{"version":3,"file":"svg-plant.min.umd.js","sources":["../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/seedrandom/lib/alea.js","../node_modules/seedrandom/lib/xor128.js","../node_modules/seedrandom/lib/xorwow.js","../node_modules/seedrandom/lib/xorshift7.js","../node_modules/seedrandom/lib/xor4096.js","../node_modules/seedrandom/lib/tychei.js","../node_modules/seedrandom/seedrandom.js","../node_modules/seedrandom/index.js","../src/util/util.ts","../src/Plant/plantPotSvg.ts","../src/util/bezierCurveBoundingBox.ts","../src/Plant/PlantBody.ts","../src/Plant/SvgPlant.ts","../src/Genera/BaseGenus.ts","../src/Genera/CannabisGenus.ts","../src/util/DevTools.ts","../src/main.ts"],"sourcesContent":["function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","// A port of an algorithm by Johannes Baagøe <baagoe@baagoe.com>, 2010\n// http://baagoe.com/en/RandomMusings/javascript/\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\n// Original work is under MIT license -\n\n// Copyright (C) 2010 by Johannes Baagøe <baagoe@baagoe.org>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\n\n(function(global, module, define) {\n\nfunction Alea(seed) {\n  var me = this, mash = Mash();\n\n  me.next = function() {\n    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n    me.s0 = me.s1;\n    me.s1 = me.s2;\n    return me.s2 = t - (me.c = t | 0);\n  };\n\n  // Apply the seeding algorithm from Baagoe.\n  me.c = 1;\n  me.s0 = mash(' ');\n  me.s1 = mash(' ');\n  me.s2 = mash(' ');\n  me.s0 -= mash(seed);\n  if (me.s0 < 0) { me.s0 += 1; }\n  me.s1 -= mash(seed);\n  if (me.s1 < 0) { me.s1 += 1; }\n  me.s2 -= mash(seed);\n  if (me.s2 < 0) { me.s2 += 1; }\n  mash = null;\n}\n\nfunction copy(f, t) {\n  t.c = f.c;\n  t.s0 = f.s0;\n  t.s1 = f.s1;\n  t.s2 = f.s2;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new Alea(seed),\n      state = opts && opts.state,\n      prng = xg.next;\n  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }\n  prng.double = function() {\n    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n  };\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nfunction Mash() {\n  var n = 0xefc8249d;\n\n  var mash = function(data) {\n    data = String(data);\n    for (var i = 0; i < data.length; i++) {\n      n += data.charCodeAt(i);\n      var h = 0.02519603282416938 * n;\n      n = h >>> 0;\n      h -= n;\n      h *= n;\n      n = h >>> 0;\n      h -= n;\n      n += h * 0x100000000; // 2^32\n    }\n    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n  };\n\n  return mash;\n}\n\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.alea = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"xor128\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n\n  // Set up generator function.\n  me.next = function() {\n    var t = me.x ^ (me.x << 11);\n    me.x = me.y;\n    me.y = me.z;\n    me.z = me.w;\n    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);\n  };\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor128 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"xorwow\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var t = (me.x ^ (me.x >>> 2));\n    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;\n    return (me.d = (me.d + 362437 | 0)) +\n       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;\n  };\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n  me.v = 0;\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    if (k == strseed.length) {\n      me.d = me.x << 10 ^ me.x >>> 4;\n    }\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  t.v = f.v;\n  t.d = f.d;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorwow = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"xorshift7\" algorithm by\n// François Panneton and Pierre L'ecuyer:\n// \"On the Xorgshift Random Number Generators\"\n// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    // Update xor generator.\n    var X = me.x, i = me.i, t, v, w;\n    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);\n    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);\n    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);\n    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);\n    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);\n    X[i] = v;\n    me.i = (i + 1) & 7;\n    return v;\n  };\n\n  function init(me, seed) {\n    var j, w, X = [];\n\n    if (seed === (seed | 0)) {\n      // Seed state array using a 32-bit integer.\n      w = X[0] = seed;\n    } else {\n      // Seed state using a string.\n      seed = '' + seed;\n      for (j = 0; j < seed.length; ++j) {\n        X[j & 7] = (X[j & 7] << 15) ^\n            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);\n      }\n    }\n    // Enforce an array length of 8, not all zeroes.\n    while (X.length < 8) X.push(0);\n    for (j = 0; j < 8 && X[j] === 0; ++j);\n    if (j == 8) w = X[7] = -1; else w = X[j];\n\n    me.x = X;\n    me.i = 0;\n\n    // Discard an initial 256 values.\n    for (j = 256; j > 0; --j) {\n      me.next();\n    }\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.x = f.x.slice();\n  t.i = f.i;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.x) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorshift7 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n","// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.\n//\n// This fast non-cryptographic random number generator is designed for\n// use in Monte-Carlo algorithms. It combines a long-period xorshift\n// generator with a Weyl generator, and it passes all common batteries\n// of stasticial tests for randomness while consuming only a few nanoseconds\n// for each prng generated.  For background on the generator, see Brent's\n// paper: \"Some long-period random number generators using shifts and xors.\"\n// http://arxiv.org/pdf/1004.3115v1.pdf\n//\n// Usage:\n//\n// var xor4096 = require('xor4096');\n// random = xor4096(1);                        // Seed with int32 or string.\n// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.\n// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.\n//\n// For nonzero numeric keys, this impelementation provides a sequence\n// identical to that by Brent's xorgens 3 implementaion in C.  This\n// implementation also provides for initalizing the generator with\n// string seeds, or for saving and restoring the state of the generator.\n//\n// On Chrome, this prng benchmarks about 2.1 times slower than\n// Javascript's built-in Math.random().\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    var w = me.w,\n        X = me.X, i = me.i, t, v;\n    // Update Weyl generator.\n    me.w = w = (w + 0x61c88647) | 0;\n    // Update xor generator.\n    v = X[(i + 34) & 127];\n    t = X[i = ((i + 1) & 127)];\n    v ^= v << 13;\n    t ^= t << 17;\n    v ^= v >>> 15;\n    t ^= t >>> 12;\n    // Update Xor generator array state.\n    v = X[i] = v ^ t;\n    me.i = i;\n    // Result is the combination.\n    return (v + (w ^ (w >>> 16))) | 0;\n  };\n\n  function init(me, seed) {\n    var t, v, i, j, w, X = [], limit = 128;\n    if (seed === (seed | 0)) {\n      // Numeric seeds initialize v, which is used to generates X.\n      v = seed;\n      seed = null;\n    } else {\n      // String seeds are mixed into v and X one character at a time.\n      seed = seed + '\\0';\n      v = 0;\n      limit = Math.max(limit, seed.length);\n    }\n    // Initialize circular array and weyl value.\n    for (i = 0, j = -32; j < limit; ++j) {\n      // Put the unicode characters into the array, and shuffle them.\n      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);\n      // After 32 shuffles, take v as the starting w value.\n      if (j === 0) w = v;\n      v ^= v << 10;\n      v ^= v >>> 15;\n      v ^= v << 4;\n      v ^= v >>> 13;\n      if (j >= 0) {\n        w = (w + 0x61c88647) | 0;     // Weyl.\n        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.\n        i = (0 == t) ? i + 1 : 0;     // Count zeroes.\n      }\n    }\n    // We have detected all zeroes; make the key nonzero.\n    if (i >= 128) {\n      X[(seed && seed.length || 0) & 127] = -1;\n    }\n    // Run the generator 512 times to further mix the state before using it.\n    // Factoring this as a function slows the main generator, so it is just\n    // unrolled here.  The weyl generator is not advanced while warming up.\n    i = 127;\n    for (j = 4 * 128; j > 0; --j) {\n      v = X[(i + 34) & 127];\n      t = X[i = ((i + 1) & 127)];\n      v ^= v << 13;\n      t ^= t << 17;\n      v ^= v >>> 15;\n      t ^= t >>> 12;\n      X[i] = v ^ t;\n    }\n    // Storing state as object members is faster than using closure variables.\n    me.w = w;\n    me.X = X;\n    me.i = i;\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.i = f.i;\n  t.w = f.w;\n  t.X = f.X.slice();\n  return t;\n};\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.X) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor4096 = impl;\n}\n\n})(\n  this,                                     // window object or global\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n","// A Javascript implementaion of the \"Tyche-i\" prng algorithm by\n// Samuel Neves and Filipe Araujo.\n// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var b = me.b, c = me.c, d = me.d, a = me.a;\n    b = (b << 25) ^ (b >>> 7) ^ c;\n    c = (c - d) | 0;\n    d = (d << 24) ^ (d >>> 8) ^ a;\n    a = (a - b) | 0;\n    me.b = b = (b << 20) ^ (b >>> 12) ^ c;\n    me.c = c = (c - d) | 0;\n    me.d = (d << 16) ^ (c >>> 16) ^ a;\n    return me.a = (a - b) | 0;\n  };\n\n  /* The following is non-inverted tyche, which has better internal\n   * bit diffusion, but which is about 25% slower than tyche-i in JS.\n  me.next = function() {\n    var a = me.a, b = me.b, c = me.c, d = me.d;\n    a = (me.a + me.b | 0) >>> 0;\n    d = me.d ^ a; d = d << 16 ^ d >>> 16;\n    c = me.c + d | 0;\n    b = me.b ^ c; b = b << 12 ^ d >>> 20;\n    me.a = a = a + b | 0;\n    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;\n    me.c = c = c + d | 0;\n    b = b ^ c;\n    return me.b = (b << 7 ^ b >>> 25);\n  }\n  */\n\n  me.a = 0;\n  me.b = 0;\n  me.c = 2654435769 | 0;\n  me.d = 1367130551;\n\n  if (seed === Math.floor(seed)) {\n    // Integer seed.\n    me.a = (seed / 0x100000000) | 0;\n    me.b = seed | 0;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 20; k++) {\n    me.b ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.a = f.a;\n  t.b = f.b;\n  t.c = f.c;\n  t.d = f.d;\n  return t;\n};\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.tychei = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","/*\nCopyright 2019 David Bau.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n(function (global, pool, math) {\n//\n// The following constants are related to IEEE 754 limits.\n//\n\nvar width = 256,        // each RC4 output is 0 <= x < 256\n    chunks = 6,         // at least six RC4 outputs for each double\n    digits = 52,        // there are 52 significant digits in a double\n    rngname = 'random', // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n    significance = math.pow(2, digits),\n    overflow = significance * 2,\n    mask = width - 1,\n    nodecrypto;         // node.js crypto module, initialized at the bottom.\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed, options, callback) {\n  var key = [];\n  options = (options == true) ? { entropy: true } : (options || {});\n\n  // Flatten the seed string or build one from local entropy if needed.\n  var shortseed = mixkey(flatten(\n    options.entropy ? [seed, tostring(pool)] :\n    (seed == null) ? autoseed() : seed, 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  var arc4 = new ARC4(key);\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n  var prng = function() {\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\n        x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  prng.int32 = function() { return arc4.g(4) | 0; }\n  prng.quick = function() { return arc4.g(4) / 0x100000000; }\n  prng.double = prng;\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(tostring(arc4.S), pool);\n\n  // Calling convention: what to return as a function of prng, seed, is_math.\n  return (options.pass || callback ||\n      function(prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) { copy(state, arc4); }\n          // Only provide the .state method if requested via options.state.\n          prng.state = function() { return copy(arc4, {}); }\n        }\n\n        // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n        if (is_math_call) { math[rngname] = prng; return seed; }\n\n        // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(\n  prng,\n  shortseed,\n  'global' in options ? options.global : (this == math),\n  options.state);\n}\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key) {\n  var t, keylen = key.length,\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) {\n    s[i] = i++;\n  }\n  for (i = 0; i < width; i++) {\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\n    s[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  (me.g = function(count) {\n    // Using instance members instead of closure state nearly doubles speed.\n    var t, r = 0,\n        i = me.i, j = me.j, s = me.S;\n    while (count--) {\n      t = s[i = mask & (i + 1)];\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\n    }\n    me.i = i; me.j = j;\n    return r;\n    // For robust unpredictability, the function call below automatically\n    // discards an initial batch of values.  This is called RC4-drop[256].\n    // See http://google.com/search?q=rsa+fluhrer+response&btnI\n  })(width);\n}\n\n//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f, t) {\n  t.i = f.i;\n  t.j = f.j;\n  t.S = f.S.slice();\n  return t;\n};\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj, depth) {\n  var result = [], typ = (typeof obj), prop;\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n    }\n  }\n  return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed, key) {\n  var stringseed = seed + '', smear, j = 0;\n  while (j < stringseed.length) {\n    key[mask & j] =\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\n  }\n  return tostring(key);\n}\n\n//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed() {\n  try {\n    var out;\n    if (nodecrypto && (out = nodecrypto.randomBytes)) {\n      // The use of 'out' to remember randomBytes makes tight minified code.\n      out = out(width);\n    } else {\n      out = new Uint8Array(width);\n      (global.crypto || global.msCrypto).getRandomValues(out);\n    }\n    return tostring(out);\n  } catch (e) {\n    var browser = global.navigator,\n        plugins = browser && browser.plugins;\n    return [+new Date, global, plugins, global.screen, tostring(pool)];\n  }\n}\n\n//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a) {\n  return String.fromCharCode.apply(0, a);\n}\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\nif ((typeof module) == 'object' && module.exports) {\n  module.exports = seedrandom;\n  // When in node.js, try using crypto package for autoseeding.\n  try {\n    nodecrypto = require('crypto');\n  } catch (ex) {}\n} else if ((typeof define) == 'function' && define.amd) {\n  define(function() { return seedrandom; });\n} else {\n  // When included as a plain script, set up Math.seedrandom global.\n  math['seed' + rngname] = seedrandom;\n}\n\n\n// End anonymous scope, and pass initial values.\n})(\n  // global: `self` in browsers (including strict mode and web workers),\n  // otherwise `this` in Node and other environments\n  (typeof self !== 'undefined') ? self : this,\n  [],     // pool: entropy pool starts empty\n  Math    // math: package containing random, pow, and seedrandom\n);\n","// A library of seedable RNGs implemented in Javascript.\n//\n// Usage:\n//\n// var seedrandom = require('seedrandom');\n// var random = seedrandom(1); // or any seed.\n// var x = random();       // 0 <= x < 1.  Every bit is random.\n// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.\n\n// alea, a 53-bit multiply-with-carry generator by Johannes Baagøe.\n// Period: ~2^116\n// Reported to pass all BigCrush tests.\nvar alea = require('./lib/alea');\n\n// xor128, a pure xor-shift generator by George Marsaglia.\n// Period: 2^128-1.\n// Reported to fail: MatrixRank and LinearComp.\nvar xor128 = require('./lib/xor128');\n\n// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.\n// Period: 2^192-2^32\n// Reported to fail: CollisionOver, SimpPoker, and LinearComp.\nvar xorwow = require('./lib/xorwow');\n\n// xorshift7, by François Panneton and Pierre L'ecuyer, takes\n// a different approach: it adds robustness by allowing more shifts\n// than Marsaglia's original three.  It is a 7-shift generator\n// with 256 bits, that passes BigCrush with no systmatic failures.\n// Period 2^256-1.\n// No systematic BigCrush failures reported.\nvar xorshift7 = require('./lib/xorshift7');\n\n// xor4096, by Richard Brent, is a 4096-bit xor-shift with a\n// very long period that also adds a Weyl generator. It also passes\n// BigCrush with no systematic failures.  Its long period may\n// be useful if you have many generators and need to avoid\n// collisions.\n// Period: 2^4128-2^32.\n// No systematic BigCrush failures reported.\nvar xor4096 = require('./lib/xor4096');\n\n// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random\n// number generator derived from ChaCha, a modern stream cipher.\n// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n// Period: ~2^127\n// No systematic BigCrush failures reported.\nvar tychei = require('./lib/tychei');\n\n// The original ARC4-based prng included in this library.\n// Period: ~2^1600\nvar sr = require('./seedrandom');\n\nsr.alea = alea;\nsr.xor128 = xor128;\nsr.xorwow = xorwow;\nsr.xorshift7 = xorshift7;\nsr.xor4096 = xor4096;\nsr.tychei = tychei;\n\nmodule.exports = sr;\n","import seedrandom from 'seedrandom';\nimport { attributeSet, pathDescriptionSegment, point, rngSeed } from '../types';\n\nconst html = {\n    node( tag: string, set?: attributeSet ): Element {\n        const node = document.createElement( tag );\n        html.attr( node, set );\n        return node;\n    },\n    nodeNS( tag: string, set: attributeSet, ns: string ): Element {\n        const node = document.createElementNS( ns, tag );\n        html.attr( node, set );\n        return node;\n    },\n    attr( node: Element, set: attributeSet = {} ): void {\n        for (let name in set) node.setAttribute( name, String( set[ name ] ) );\n    },\n\n    svg: {\n        root( set?: attributeSet ): SVGElement {\n            const svg = <SVGElement>html.svg.node( 'svg', set );\n            svg.setAttribute( 'xmlns', \"http://www.w3.org/2000/svg\" );\n            svg.setAttributeNS( \"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\" );\n            return svg;\n        },\n        node( tag: string, set?: attributeSet ): SVGElement {\n            const el = <SVGElement>html.nodeNS( tag, {}, \"http://www.w3.org/2000/svg\" );\n            html.attr( el, set );\n            return el;\n        },\n\n        compilePathDescription( points: pathDescriptionSegment[] ): string {\n            const d = [];\n\n            for (const p of points) {\n                if (p.length == 1) d.push( p );\n                else if (p.length == 2) d.push( p[0], p[1] );\n                else if (p.length == 3) d.push( p[0], p[1], p[2] );\n            }\n\n            return d.join( ' ' );\n        }\n    },\n};\n\nconst math = {\n    toRadians( degrees: number ): number {\n        return degrees * (Math.PI / 180);\n    },\n\n    fromAngle( point: point, angle: number, length: number, precision?:number ): point {\n        const a: point = [\n            Math.sin( math.toRadians( angle ) ) * length + point[0],\n            - Math.cos( math.toRadians( angle ) ) * length + point[1],\n        ];\n\n        if (precision) {\n            a[ 0 ] = Math.round( a[ 0 ] * precision );\n            a[ 1 ] = Math.round( a[ 1 ] * precision );\n        }\n\n        return a;\n    },\n\n    rectFromLine(\n        pointBottom: point, pointTop: point,\n        angleBottom: number, angleTop: number,\n        widthBottom: number, widthTop: number,\n        precision?: number\n    ): [ point, point, point, point ] {\n        widthBottom /= 2;\n        widthTop /= 2;\n        return [\n            math.fromAngle( pointBottom, angleBottom - 90, widthBottom, precision ),\n            math.fromAngle( pointTop, angleTop - 90, widthTop, precision ),\n            math.fromAngle( pointTop, angleTop + 90, widthTop, precision ),\n            math.fromAngle( pointBottom, angleBottom + 90, widthBottom, precision )\n        ];\n    },\n\n    pointOnLine( p1: point, p2: point, d: number ): point {\n        return [\n            p1[0] + d * (p2[0] - p1[0]),\n            p1[1] + d * (p2[1] - p1[1]),\n        ];\n    },\n\n    distance( p1: point, p2: point ): number {\n        const dx = p1[0] - p2[0];\n        const dy = p1[1] - p2[1];\n        return Math.sqrt( dx*dx + dy*dy );\n    }\n};\n\nconst plantHelper = {\n    rootPosAngle( rng: rng, xMax: number, maxAngle: number ) {\n        const x = rng.range( -xMax, xMax );\n        const f = Math.abs( x ) / xMax;\n        return {\n            x,\n            segmentAngle: maxAngle * f * (x < 0 ? -1 : 1),\n        };\n    },\n\n    segmentAngle( baseNode: node ): number {\n        if (baseNode.attr.segmentAngle !== undefined) return baseNode.attr.segmentAngle;\n        return baseNode.attr.angle;\n    },\n\n    nextAngle( rng: rng, pos: nodePos, prevNode: node, variance: number, alternate: boolean ): number {\n        if (pos.isOffshoot) return prevNode.attr.angle;\n\n        const pa = this.segmentAngle( prevNode );\n\n        if (alternate) {\n            const dir = pos.branchNum>0 ? 1 : prevNode.treeRoot.attr.x>=0 ? 1 : -1;\n            return pa + (prevNode.pos.num % 2 ? 1 : -1) * rng.range( 0, variance ) * dir;\n        }\n        else {\n            return pa + rng.range( -variance, variance );\n        }\n    },\n\n    archingBranchAngle( rng: rng, pos: nodePos, prevNode: node, variance: number, numAdjust: number ): number {\n        if (pos.isOffshoot) return prevNode.attr.angle;\n\n        const pa = plantHelper.segmentAngle( prevNode );\n        const base = prevNode.branchRoot.attr.branchArchAngle;\n        const f = numAdjust ? (1 - numAdjust) + numAdjust * (1 - pos.numFactor) : 1;\n\n        return pa + f * base + rng.range( -variance, variance );\n    },\n\n    repeat<T,U=number>(\n        { rng, cb, p=1, shuffle=true, steps, values, n }:\n        {\n            rng: rng,\n            cb: ( i: number | U ) => T,\n            steps?: { from: number, to: number, step: number },\n            values?: U[],\n            n?: number | [ number, number ],\n            p?: number, shuffle?: boolean\n        }\n    ): T[] {\n        const a: T[] = [];\n\n        if (p <= 0) return a;\n        const test = p < 1;\n\n        if (values !== undefined) {\n            for (let v of values) if (!test || rng.test( p )) {\n                a.push( cb( v ) );\n            }\n        }\n        else if (steps !== undefined) {\n            for (let i=steps.from; i<=steps.to; i+=steps.step) if (!test || rng.test( p )) {\n                a.push( cb( i ) );\n            }\n        }\n        else if (n !== undefined) {\n            if (Array.isArray( n )) n = rng.intRange( n[0], n[1] );\n\n            for (let i=0; i<n; i++) if (!test || rng.test( p )) {\n                a.push( cb( i ) );\n            }\n        }\n\n        if (shuffle) rng.shuffle( a );\n\n        return a;\n    }\n};\n\ninterface rng {\n    seed: string;\n    reset(): void;\n    random( v: number ): number;\n    test( p: number ): boolean;\n    test<T,U>( p: number, pass: T, fail: U ): T | U;\n    test<T,U>( p: number, pass?: T, fail?: U ): T | U | boolean;\n    range( v0: number, v1: number ): number;\n    intRange( v0: number, v1: number ): number;\n    ranges( ... ranges: Array<[ number, number, number? ]> ): number;\n    shuffle( a: Array<any> ): Array<any>;\n};\nconst rng = (seed: rngSeed): rng => {\n    const seedStr = (seed === undefined) ? (Math.random() + '').substring( 2 ) : String( seed );\n    let fn: seedrandom.prng;\n\n    const rng = {\n        get seed(): string {\n            return seedStr;\n        },\n        reset(): void {\n            fn = seedrandom( seedStr );\n        },\n\n        random( v=1 ): number {\n            return fn() * v;\n        },\n        test<T,U>( p=.5, pass?: T, fail?: U ): T | U | boolean {\n            const r = p >= 1 ? true : p <= 0 ? false : fn() < p;\n            if (r) return pass === undefined ? true : pass;\n            return fail === undefined ? false : fail;\n        },\n        range( v0: number, v1: number ): number {\n            if (v0==v1) return v0;\n            return v0 + fn() * ( v1 - v0 );\n        },\n        intRange( v0: number, v1: number ): number {\n            if (v0==v1) return v0;\n            return v0 + Math.floor( fn() * ( v1 - v0 + 1 ) );\n        },\n        ranges( ... ranges: Array<[ number, number, number? ]> ): number {\n            if (!ranges.length) return 0;\n\n            const ep = 1 / ranges.length;\n\n            ranges = [ ... ranges ];\n            const last = ranges.pop();\n\n            for (let r of ranges) {\n                const p = r[2] || ep;\n                if (rng.test( p )) return rng.range( r[0], r[1] );\n            }\n\n            return last ? rng.range( last[0], last[1] ) : 0;\n        },\n\n        shuffle( a: Array<any> ): Array<any> {\n            for (let i = a.length - 1; i > 0; i--) {\n                const j = Math.floor( fn() * (i + 1) );\n                const tmp = a[i];\n                a[i] = a[j];\n                a[j] = tmp;\n            }\n            return a;\n        }\n    };\n\n    rng.reset();\n\n    return rng;\n}\n\ninterface bboxData {\n    x0: number;\n    x1: number;\n    y0: number;\n    y1: number;\n    [propName: string]: any;\n};\nclass BBox {\n    x0: number;\n    x1: number;\n    y0: number;\n    y1: number;\n\n    constructor(data?: bboxData) {\n        if (data) {\n            this.x0 = data.x0;\n            this.x1 = data.x1;\n            this.y0 = data.y0;\n            this.y1 = data.y1;\n        }\n        else {\n            this.x0 = Infinity;\n            this.x1 = -Infinity;\n            this.y0 = Infinity;\n            this.y1 = -Infinity;\n        }\n    }\n\n    addX( v: number ): this {\n        if (v < this.x0) this.x0 = v;\n        if (v > this.x1) this.x1 = v;\n        return this;\n    }\n    addY( v: number ): this {\n        if (v < this.y0) this.y0 = v;\n        if (v > this.y1) this.y1 = v;\n        return this;\n    }\n    addPoint( x: number, y: number ): this {\n        this.addX( x );\n        this.addY( y );\n        return this;\n    }\n    addBBox( bbox: bboxData ): this {\n        this.addX( bbox.x0 );\n        this.addX( bbox.x1 );\n        this.addY( bbox.y0 );\n        this.addY( bbox.y1 );\n        return this;\n    }\n\n    expand( v: number ): this {\n        this.x0 -= v;\n        this.x1 += v;\n\n        this.y0 -= v;\n        this.y1 += v;\n\n        return this;\n    }\n\n    contains( bbox: bboxData, strict: boolean ): boolean {\n        if (strict) return this.x0 < bbox.x0 && this.x1 > bbox.x1 && this.y0 < bbox.y0 && this.y1 > bbox.y1;\n        return this.x0 <= bbox.x0 && this.x1 >= bbox.x1 && this.y0 <= bbox.y0 && this.y1 >= bbox.y1;\n    }\n    containedBy( bbox: bboxData, strict: boolean ): boolean {\n        if (strict) return this.x0 > bbox.x0 && this.x1 < bbox.x1 && this.y0 > bbox.y0 && this.y1 < bbox.y1;\n        return this.x0 >= bbox.x0 && this.x1 <= bbox.x1 && this.y0 >= bbox.y0 && this.y1 <= bbox.y1;\n    }\n    containsPoint( x: number, y: number, strict: boolean ): boolean {\n        if (strict) return !( x <= this.x0 || x >= this.x1 || y <= this.y0 || y >= this.y1 );\n        return !( x < this.x0 || x > this.x1 || y < this.y0 || y > this.y1 );\n    }\n\n    clone(): BBox {\n        return new BBox( this.data );\n    }\n\n    withPrecision( p: number ): BBox {\n        return new BBox({\n            x0: Math.round( this.x0 * p ),\n            x1: Math.round( this.x1 * p ),\n            y0: Math.round( this.y0 * p ),\n            y1: Math.round( this.y1 * p ),\n        });\n    }\n\n    get width(): number {\n        return this.x1 - this.x0;\n    }\n    get height(): number {\n        return this.y1 - this.y0;\n    }\n\n    get aspectRatio(): number {\n        if (!this.height) return 0;\n        return this.width / this.height;\n    }\n\n    get data(): bboxData {\n        return {\n            x0: this.x0,\n            x1: this.x1,\n            y0: this.y0,\n            y1: this.y1\n        };\n    }\n\n    get pointsArray(): [ point, point ] {\n        return [\n            [ this.x0, this.y0 ],\n            [ this.x1, this.y1 ],\n        ];\n    }\n\n    get viewBox(): string {\n        return `${this.x0} ${this.y0} ${this.width} ${this.height}`;\n    }\n}\n\ninterface nodePos {\n    num: number,\n    branchNum: number,\n\n    height: number,\n    offshootHeight: number,\n\n    isRoot: boolean,\n\n    isLast: boolean,\n    isLastBranch: boolean,\n\n    isOffshoot: boolean,\n\n    numFactor: number,\n    branchFactor: number,\n};\ninterface nodeAttr {\n    [key: string]: any,\n};\ninterface offshoot {\n    n: number,\n    attr?: nodeAttr,\n};\ninterface node {\n    pos: nodePos,\n    attr: nodeAttr,\n    offshoots: node[],\n\n    prev: node | null,\n    next: node | null,\n\n    branchRoot: node,\n    treeRoot: node,\n\n    offshootNum: number,\n};\ntype getNode = (pos: nodePos, prev: node | null, rootAttr: nodeAttr) => nodeAttr;\ntype getOffshoots = (node: node | null) => offshoot[];\nclass ProcTree {\n\n    maxBranchNum: number;\n    getNode: getNode;\n    getOffshoots: getOffshoots;\n\n    private roots: node[];\n\n    constructor( maxBranchNum: number, getNode: getNode, getOffshoots: getOffshoots ) {\n        this.maxBranchNum = maxBranchNum;\n        this.getNode = getNode;\n        this.getOffshoots = getOffshoots;\n\n        this.roots = [];\n    }\n\n    grow(): void {\n        const roots = this.getOffshoots( null );\n        for (let i in roots) this.growBranch( null, Number( i ), roots[ i ].n, roots[ i ].attr || {} );\n    }\n\n    growBranch( rootNode: node | null, offshootNum: number, segmentCount: number, attr: nodeAttr ): void {\n        const isTreeRoot = !rootNode;\n\n        let node = this.addNode( rootNode, true, offshootNum, segmentCount, attr );\n\n        if (isTreeRoot) this.roots.push( node );\n        const isLastBranch = this.maxBranchNum == node.pos.branchNum;\n\n        if (!isLastBranch && isTreeRoot) {\n            const offshoots = this.getOffshoots( node );\n            for (let i in offshoots) this.growBranch( node, Number( i ), offshoots[ i ].n, offshoots[ i ].attr || {} );\n        }\n\n        for (let i=0; i<segmentCount; i++) {\n            node = this.addNode( node, false, offshootNum, segmentCount, {} );\n            if (!isLastBranch) {\n                const offshoots = this.getOffshoots( node );\n                for (let i in offshoots) this.growBranch( node, Number( i ), offshoots[ i ].n, offshoots[ i ].attr || {} );\n            }\n        }\n    }\n\n    addNode( prev: node | null, isOffshoot: boolean, offshootNum: number, maxNum: number, rootAttr: nodeAttr ): node {\n        const pos = this.getPos( prev ? prev.pos : null, isOffshoot, maxNum );\n        const node: node = {\n            pos,\n            attr: { ... rootAttr, ... this.getNode( pos, prev, rootAttr ) },\n            offshoots: [],\n\n            prev: null,\n            next: null,\n\n            branchRoot: <node>{},\n            treeRoot: <node>{},\n\n            offshootNum: 0,\n        };\n\n        if (prev) {\n            node.prev = prev;\n            node.branchRoot = isOffshoot ? node : prev.pos.isOffshoot ? prev : prev.branchRoot;\n            node.treeRoot = prev.treeRoot ? prev.treeRoot : prev;\n\n            if (isOffshoot) {\n                prev.offshoots.push( node );\n                node.offshootNum = offshootNum;\n            }\n            else {\n                prev.next = node;\n            }\n\n        }\n        else {\n            node.branchRoot = node;\n            node.treeRoot = node;\n            node.offshootNum = offshootNum;\n        }\n\n        return node;\n    }\n\n    getPos( prev: nodePos | null, isOffshoot: boolean, maxNum: number ): nodePos {\n        if (prev === null) return {\n            num: 0,\n            branchNum: 0,\n\n            height: 0,\n            offshootHeight: 0,\n\n            isRoot: true,\n\n            isLast: maxNum == 0,\n            isLastBranch: this.maxBranchNum == 0,\n\n            isOffshoot,\n\n            numFactor: 1,\n            branchFactor: 1,\n        };\n\n        const pos: nodePos = {\n            num: isOffshoot ? 0 : prev.num + 1,\n            branchNum: isOffshoot ? prev.branchNum + 1 : prev.branchNum,\n\n            height: isOffshoot ? prev.height : prev.height + 1,\n            offshootHeight: isOffshoot ? prev.num : prev.offshootHeight,\n\n            isRoot: false,\n\n            isLast: false,\n            isLastBranch: false,\n\n            isOffshoot,\n\n            numFactor: 0,\n            branchFactor: 0,\n        };\n\n        if (pos.num == maxNum) pos.isLast = true;\n        if (pos.branchNum == this.maxBranchNum) pos.isLastBranch = true;\n\n        pos.numFactor = maxNum ? (1 - pos.num / maxNum) : 1;\n        pos.branchFactor = this.maxBranchNum ? (1 - pos.branchNum / this.maxBranchNum) : 1;\n\n        return pos;\n    }\n\n    eachSegment( cb: (n0: node, n1: node) => void ): void {\n        for (let node of this.roots) this._each( node, cb );\n    }\n    _each( node: node | null, cb: (n0: node, n1: node) => void ): void {\n        // note: the treeRoot node can have offshoots\n        // other nodes that are branchRoots cannot have offshoots\n        while ( node ) {\n            if (node.pos.num > 0 && node.prev) cb( node.prev, node );\n            for (let offshootNode of node.offshoots) this._each( offshootNode.next, cb );\n            node = node.next;\n        }\n    }\n}\n\nexport {\n    html,\n    math,\n    plantHelper,\n    rng, rng as rngInterface,\n    BBox,\n    ProcTree, nodePos, nodeAttr, offshoot, node\n};","import { html } from \"../util/util\";\nimport { attributeSet, pathDescriptionSegment } from '../types';\n\ninterface PlantPotCfg {\n    rimHeight: number,\n    rimLipOuter: number,\n    rimLipInner: number,\n    bottom: number,\n};\n\nfunction plantPotSvg( pathAttr: attributeSet ): SVGElement {\n    const baseCfg: PlantPotCfg = {\n        rimHeight: 40,\n        rimLipOuter: 2,\n        rimLipInner: 7,\n        bottom: 10\n    };\n\n    const sw = pathAttr ? ('stroke-width' in pathAttr ? pathAttr[ 'stroke-width' ] : 2) : false;\n    if (sw) pathAttr[ 'stroke-width' ] = sw;\n\n    const pad = sw && typeof sw == 'number' ? sw / 2 : 0;\n\n    const getPoints = (cfg: PlantPotCfg): pathDescriptionSegment[] => {\n        return [\n            [ 'M', pad, pad ],\n            [ 'L', 100-pad, pad ],\n            [ 'L', 100-pad - cfg.rimLipOuter, cfg.rimHeight ],\n            [ 'L', 100-pad - cfg.rimLipInner, cfg.rimHeight ],\n            [ 'L', 100-pad - cfg.bottom, 100-pad ],\n            [ 'L', pad+cfg.bottom, 100-pad ],\n            [ 'L', pad+cfg.rimLipInner, cfg.rimHeight ],\n            [ 'L', pad+cfg.rimLipOuter, cfg.rimHeight ],\n            'Z',\n        ];\n    };\n\n    if (!pathAttr) pathAttr = {};\n    pathAttr.d = html.svg.compilePathDescription( getPoints( baseCfg ) );\n    const path = html.svg.node( 'path', pathAttr );\n\n    const svg = html.svg.root({\n        class: 'svg-plant-pot',\n        viewBox: '0 0 100 100',\n        preserveAspectRatio: 'xMidYMax meet',\n    });\n\n    svg.appendChild( path );\n\n    return svg;\n};\n\nexport { plantPotSvg };","// ripped from https://github.com/kfitfk/svg-boundings\n\ninterface bounds {\n  minX: number;\n  maxX: number;\n  minY: number;\n  maxY: number;\n};\n\n/**\n * expand the x-bounds, if the value lies outside the bounding box\n */\nfunction expandXBounds(bounds: bounds, value: number) {\n  if (bounds.minX > value) bounds.minX = value;\n  else if (bounds.maxX < value) bounds.maxX = value;\n}\n\n/**\n * expand the y-bounds, if the value lies outside the bounding box\n */\nfunction expandYBounds(bounds: bounds, value: number) {\n  if (bounds.minY > value) bounds.minY = value;\n  else if (bounds.maxY < value) bounds.maxY = value;\n}\n\n/**\n * Calculate the bezier value for one dimension at distance 't'\n */\nfunction calculateBezier(t: number, p0: number, p1: number, p2: number, p3: number) {\n  var mt = 1-t;\n  return (mt*mt*mt*p0) + (3*mt*mt*t*p1) + (3*mt*t*t*p2) + (t*t*t*p3);\n}\n\n/**\n * Calculate the bounding box for this bezier curve.\n * http://pomax.nihongoresources.com/pages/bezier/\n */\nfunction bezierCurveBoundingBox(\n  x1: number, y1: number,\n  cx1: number, cy1: number, cx2: number, cy2: number,\n  x2: number, y2: number\n) {\n  var bounds = {\n    minX: Math.min(x1, x2),\n    minY: Math.min(y1, y2),\n    maxX: Math.max(x1, x2),\n    maxY: Math.max(y1, y2),\n  };\n\n  var dcx0 = cx1 - x1;\n  var dcy0 = cy1 - y1;\n  var dcx1 = cx2 - cx1;\n  var dcy1 = cy2 - cy1;\n  var dcx2 = x2 - cx2;\n  var dcy2 = y2 - cy2;\n\n  if (cx1<bounds.minX || cx1>bounds.maxX || cx2<bounds.minX || cx2>bounds.maxX) {\n    // Just for better reading because we are doing middle school math here\n    var a = dcx0;\n    var b = dcx1;\n    var c = dcx2;\n\n    if (a+c !== 2*b) b += 0.0001;\n\n    var numerator = 2*(a - b);\n    var denominator = 2*(a - 2*b + c);\n    if (denominator === 0) denominator = 0.0001;\n    var quadroot = (2*b-2*a)*(2*b-2*a) - 2*a*denominator;\n    var root = Math.sqrt(quadroot);\n\n    var t1 =  (numerator + root) / denominator;\n    var t2 =  (numerator - root) / denominator;\n\n    if (0<t1 && t1<1) {\n      expandXBounds(bounds, calculateBezier(t1, x1, cx1, cx2, x2));\n    }\n    if (0<t2 && t2<1) {\n      expandXBounds(bounds, calculateBezier(t2, x1, cx1, cx2, x2));\n    }\n  }\n\n  if (cy1<bounds.minY || cy1>bounds.maxY || cy2<bounds.minY || cy2>bounds.maxY) {\n    a = dcy0;\n    b = dcy1;\n    c = dcy2;\n\n    if (a+c !== 2*b) b += 0.0001;\n\n    numerator = 2*(a - b);\n    denominator = 2*(a - 2*b + c);\n    if (denominator === 0) denominator = 0.0001;\n    quadroot = (2*b-2*a)*(2*b-2*a) - 2*a*denominator;\n    root = Math.sqrt(quadroot);\n\n    t1 =  (numerator + root) / denominator;\n    t2 =  (numerator - root) / denominator;\n\n    if (0<t1 && t1<1) {\n      expandYBounds(bounds, calculateBezier(t1, y1, cy1, cy2, y2));\n    }\n    if (0<t2 && t2<1) {\n      expandYBounds(bounds, calculateBezier(t2, y1, cy1, cy2, y2));\n    }\n  }\n\n  return {\n    x0: bounds.minX,\n    x1: bounds.maxX,\n    y0: bounds.minY,\n    y1: bounds.maxY,\n  };\n}\n\nexport { bezierCurveBoundingBox };","import { ProcTree, html, math, BBox, node, nodePos, nodeAttr, offshoot } from \"../util/util\";\nimport { bezierCurveBoundingBox } from \"../util/bezierCurveBoundingBox\";\nimport { point, attributeSet, leafCurvesHandles, leafDefinition, pathDescriptionSegment, Genus } from '../types';\n\nconst precision = 10000;\nfunction prc(v: number): number;\nfunction prc(v: point): point;\nfunction prc(v: number | point): number | point {\n    if (Array.isArray( v )) return [\n        Math.round( v[0] * precision ),\n        Math.round( v[1] * precision ),\n    ];\n\n    return Math.round( v * precision );\n}\n\ninterface PlantPart {\n    base: point;\n    top: point;\n\n    angle: number;\n    length: number;\n\n    ageOffset: number;\n    style: attributeSet;\n\n    bbox: BBox;\n\n    getPoints( age: number ): pathDescriptionSegment[] | undefined;\n};\nclass BranchSegment implements PlantPart {\n    base: point;\n    top: point;\n\n    bottomWidth: number;\n    topWidth: number;\n\n    angle: number;\n    bottomAngle: number;\n    topAngle: number;\n\n    length: number;\n\n    ageOffset: number;\n    style: attributeSet;\n\n    bbox: BBox;\n\n    constructor( base: point, style: attributeSet, n0: node, n1: node ) {\n        this.base = base;\n\n        this.bottomWidth = n0.attr.width;\n        this.topWidth = n1.attr.width;\n\n        this.angle = n0.attr.segmentAngle !== undefined ? n0.attr.segmentAngle : n0.attr.angle;\n        this.bottomAngle = n0.attr.angle;\n        this.topAngle = n1.attr.angle;\n\n        this.length = n0.attr.length;\n\n        this.top = math.fromAngle( this.base, this.angle, this.length );\n\n        this.ageOffset = n0.attr.totalLength;\n        this.style = style;\n\n        this.bbox = this.getBoundingBox();\n    }\n\n    getPoints( age: number ): pathDescriptionSegment[] | undefined {\n        const ageFactor = this.getAgeFactor( age );\n        if (!ageFactor) return;\n\n        let top = this.top;\n        if (ageFactor < 1) {\n            top = math.fromAngle( this.base, this.angle, this.length * ageFactor );\n        }\n\n        const r = math.rectFromLine(\n            this.base, top,\n            this.bottomAngle, this.topAngle,\n            this.bottomWidth, this.topWidth,\n            precision,\n        );\n\n        return [\n            'M', r[0],\n            'L', r[1],\n            'L', r[2],\n            'L', r[3],\n            'Z'\n        ];\n    }\n\n    private getBoundingBox(): BBox {\n        const points = math.rectFromLine(\n            this.base, this.top,\n            this.bottomAngle, this.topAngle,\n            this.bottomWidth, this.topWidth,\n            undefined\n        );\n\n        const bb = new BBox();\n        bb.addPoint( points[0][0], points[0][1] );\n        bb.addPoint( points[1][0], points[1][1] );\n        bb.addPoint( points[2][0], points[2][1] );\n        bb.addPoint( points[3][0], points[3][1] );\n\n        return bb;\n    }\n\n    private getAgeFactor( age: number ): number {\n        if (age <= this.ageOffset) return 0;\n        if (age >= this.ageOffset + this.length) return 1;\n        return (age - this.ageOffset) / this.length;\n    }\n\n    getOffsetPoint( x: number, y: number ): point {\n        if (!x) {\n            if (!y) return this.base;\n            if (y==1) return this.top;\n            return math.fromAngle( this.base, this.angle, this.length * y );\n        }\n\n        const dir = this.angle < 0 ? 1 : -1;\n\n        if (!y) {\n            return math.fromAngle( this.base, this.bottomAngle + 90*dir, this.bottomWidth/2 * x );\n        }\n\n        if (y==1) {\n            return math.fromAngle( this.top, this.topAngle + 90*dir, this.topWidth/2 * x );\n        }\n\n        const l1 = [\n            math.fromAngle( this.base, this.bottomAngle + 90*dir, this.bottomWidth/2 ),\n            math.fromAngle( this.top, this.topAngle + 90*dir, this.topWidth/2 )\n        ];\n        const l2 = [\n            math.fromAngle( this.base, this.bottomAngle + 90*dir, -this.bottomWidth/2 ),\n            math.fromAngle( this.top, this.topAngle + 90*dir, -this.topWidth/2 )\n        ];\n        const l3 = [\n            math.pointOnLine( l1[0], l1[1], y ),\n            math.pointOnLine( l2[0], l2[1], y ),\n        ];\n\n        x = 1 - (x/2 + .5);\n\n        return math.pointOnLine( l3[0], l3[1], x );\n    }\n}\nclass Leaf implements PlantPart {\n    base: point;\n    pBase: point;\n    top: point;\n\n    angle: number;\n    length: number;\n    handles: leafCurvesHandles;\n\n    ageOffset: number;\n    style: attributeSet;\n\n    bbox: BBox;\n\n    constructor( segment: BranchSegment, { angle, length, handles, style, xOffset, yOffset }: leafDefinition ) {\n        const base = segment.getOffsetPoint( xOffset, yOffset );\n        this.base = base;\n        this.pBase = prc( base );\n\n        this.angle = angle;\n        this.length = length;\n        this.handles = handles;\n\n        this.top = math.fromAngle( base, angle, length );\n\n        this.ageOffset = segment.ageOffset + segment.length * yOffset;\n\n        this.style = style;\n\n        this.bbox = this.getBoundingBox();\n    }\n\n    getPoints( age: number ): pathDescriptionSegment[] | undefined {\n        const ageFactor = this.getAgeFactor( age );\n        if (!ageFactor) return;\n\n        let top = this.top;\n        if (ageFactor < 1) {\n            top = math.fromAngle( this.base, this.angle, this.length * ageFactor );\n        }\n\n        const curves = this.getCurves({ top, ageFactor, precision });\n\n        top = prc( top );\n\n        return [\n            'M', this.pBase,\n            'C', curves.up[0], curves.up[1], top,\n            'C', curves.down[0], curves.down[1], this.pBase\n        ];\n    }\n\n    private getBoundingBox(): BBox {\n        const c = this.getCurves({ top: this.top, ageFactor: 1 });\n        const bb = new BBox(bezierCurveBoundingBox(\n            this.base[0], this.base[1],\n            c.up[0][0], c.up[0][1],\n            c.up[1][0], c.up[1][1],\n            this.top[0], this.top[1],\n        ));\n\n        bb.addBBox(bezierCurveBoundingBox(\n            this.top[0], this.top[1],\n            c.down[0][0], c.down[0][1],\n            c.down[1][0], c.down[1][1],\n            this.base[0], this.base[1],\n        ));\n\n        if (typeof this.style['stroke-width'] == 'number') bb.expand( this.style['stroke-width'] / 2 );\n\n        return bb;\n    }\n\n    private getCurves(\n        { top, ageFactor, precision }: { top: point; ageFactor: number; precision?: number; }\n    ): { up: [ point, point ], down: [ point, point ] } {\n        const bha = this.handles.bottomAngle;\n        const bhl = this.handles.bottomLength * ageFactor;\n        const tha = this.handles.topAngle;\n        const thl = this.handles.topLength * ageFactor;\n\n        return {\n            up: [\n                math.fromAngle( this.base, this.angle + bha, this.length * bhl, precision ),\n                math.fromAngle( top, this.angle + tha, this.length * thl, precision ),\n            ],\n            down: [\n                math.fromAngle( top, this.angle - tha, this.length * thl, precision ),\n                math.fromAngle( this.base, this.angle - bha, this.length * bhl, precision ),\n            ],\n        };\n    }\n\n    private getAgeFactor( age: number ): number {\n        if (age <= this.ageOffset) return 0;\n        if (age >= this.ageOffset + this.length) return 1;\n        return (age - this.ageOffset) / this.length;\n    }\n}\n\nclass Branches {\n    segments: BranchSegment[][];\n    leaves: Leaf[][];\n\n    constructor() {\n        this.segments = [];\n        this.leaves = [];\n    }\n\n    addSegment( branchNum: number, segment: BranchSegment ) {\n        let branch = this.segments[ branchNum ];\n        if (!branch) {\n            branch = [];\n            this.segments[ branchNum ] = branch;\n        }\n        branch.push( segment );\n    }\n    addLeaf( branchNum: number, leaf: Leaf ) {\n        let branch = this.leaves[ branchNum ];\n        if (!branch) {\n            branch = [];\n            this.leaves[ branchNum ] = branch;\n        }\n        branch.push( leaf );\n    }\n\n    getArray(): PlantPart[] {\n        let ret: PlantPart[] = [];\n        for (let i=0; i<this.segments.length; i++) {\n            ret = ret.concat( this.segments[ i ] || [] );\n            ret = ret.concat( this.sortLeaves( this.leaves[ i ] ) );\n        }\n\n        return ret;\n    }\n\n    sortLeaves( a: Leaf[] ): Leaf[] {\n        if (!a) return [];\n\n        return a.sort((l0,l1) => {\n            if (l1.bbox.containsPoint( l0.base[0], l0.base[1], true )) {\n                return -1;\n            }\n\n            if (l0.bbox.containsPoint( l1.base[0], l1.base[1], true )) {\n                return 1;\n            }\n\n            const d0 = math.distance( l0.base, [0,0] );\n            const d1 = math.distance( l1.base, [0,0] );\n            return d1 - d0;\n        });\n    }\n}\n\nclass PlantBody {\n    genus: Genus;\n\n    bbox: BBox;\n    yFactor: number;\n\n    private parts: PlantPart[] | undefined;\n    private maxAge: number;\n\n    constructor( genus: Genus ) {\n        this.genus = genus;\n        this.bbox = new BBox;\n\n        this.maxAge = 0;\n        this.yFactor = 1;\n    }\n\n    private getTree() {\n        const getNodeAttr = ( pos: nodePos, prev: node | null, attr: nodeAttr ): nodeAttr => {\n            return {\n                width: this.genus.getNodeWidth( pos, prev, attr ),\n                angle: prev ? this.genus.getSegmentAngle( pos, prev, attr ) : 0,\n                length: pos.isLast ? (prev ? prev.attr.length : 0) : this.genus.getSegmentLength( pos, prev, attr ),\n                totalLength: prev ? ((pos.isOffshoot ? 0 : prev.attr.length) + prev.attr.totalLength) : 0,\n            };\n        };\n        const getOffshoots = (node: node | null): offshoot[] => {\n            if (node === null) return this.genus.getRoots();\n            return this.genus.getOffshoots( node );\n        };\n\n        return new ProcTree( this.genus.maxBranchNum, getNodeAttr, getOffshoots );\n    }\n\n    init(): void {\n        this.genus.reset();\n\n        const tree = this.getTree();\n        tree.grow();\n\n        this.bbox = new BBox({\n            x0: -this.genus.width/2,\n            x1: this.genus.width/2,\n            y0: -this.genus.height,\n            y1: 0,\n        });\n\n        const branches = new Branches;\n        const points = new Map;\n        let maxAge = 0;\n\n        const getBasePoint = (node: node): point => {\n            if (!node.prev) {\n                const p: point = [ node.attr.x || 0, 0 ];\n                this.bbox.addPoint( p[0], p[1] );\n                return p;\n            }\n            else if (node.pos.isOffshoot) {\n                const p = points.get( node.prev );\n                if (p) return p;\n\n                const rp: point = [ node.prev.attr.x || 0, 0 ];\n                points.set( node.prev, rp );\n                this.bbox.addPoint( rp[0], rp[1] );\n                return rp;\n            }\n\n            return points.get( node );\n        }\n\n        tree.eachSegment( (n0: node, n1: node): void => {\n\n            const base = getBasePoint( n0 );\n            const style = this.genus.getSegmentStyle( n0, n1 );\n            const s = new BranchSegment( base, style, n0, n1 );\n\n            points.set( n1, s.top );\n            this.bbox.addBBox( s.bbox );\n            branches.addSegment( n0.pos.branchNum, s );\n\n            this.genus.getLeaves( n0, n1 ).map( (cfg: leafDefinition): void => {\n                const leaf = new Leaf( s, cfg );\n\n                this.bbox.addBBox( leaf.bbox );\n                branches.addLeaf( n0.pos.branchNum, leaf );\n\n                if (leaf.ageOffset + leaf.length > maxAge) maxAge = leaf.ageOffset + leaf.length;\n            });\n\n            if (n1.attr.totalLength > maxAge) maxAge = n1.attr.totalLength;\n\n        });\n\n        this.parts = branches.getArray();\n        this.maxAge = maxAge;\n\n        // make sure the plant is centered\n        const bboxX = Math.max( Math.abs( this.bbox.x0 ), Math.abs( this.bbox.x1 ) );\n        this.bbox.x0 = -bboxX;\n        this.bbox.x1 = bboxX;\n\n        this.yFactor = (this.bbox.height / -this.bbox.y0) || 1;\n    }\n\n    private render( age: number, colors=true, svg: SVGElement ): void {\n        age *= this.maxAge;\n\n        if (this.parts) for (const p of this.parts) {\n            const points = p.getPoints( age );\n            if (!points) continue;\n\n            let style = {} as attributeSet, add = {} as attributeSet;\n\n            if (colors) {\n                style = p.style;\n                add = {};\n                if (typeof style['stroke-width'] == 'number') add['stroke-width'] = prc( style['stroke-width'] );\n            }\n\n            const set = Object.assign( {}, style, add, {\n                d: html.svg.compilePathDescription( points ),\n            });\n            svg.appendChild( html.svg.node( 'path', set ) );\n        }\n    }\n\n    getSvg( age: number, colors: boolean ): SVGElement {\n        if (this.parts === undefined) this.init();\n\n        const svg = html.svg.root({\n            class: 'svg-plant-body',\n            viewBox: this.bbox.withPrecision( precision ).viewBox,\n            preserveAspectRatio: 'xMidYMax meet',\n        });\n\n        this.render( age, colors, svg );\n\n        return svg;\n    }\n}\n\nexport { PlantBody };","import { plantPotSvg } from \"./plantPotSvg\";\nimport { PlantBody } from \"./PlantBody\";\nimport { html } from \"../util/util\";\nimport { attributeSet, Genus } from '../types';\n\ninterface SvgPlantCfg {\n    color: boolean,\n    age: number,\n    potSize: number,\n    potPathAttr: attributeSet,\n};\ninterface SvgPlantCfgArg {\n    color?: boolean,\n    age?: number,\n    potSize?: number,\n    potPathAttr?: attributeSet,\n};\n\ninterface PlantAnimation {\n    fromAge: number,\n    toAge: number,\n    ageSpan: number,\n    currentAge: number,\n\n    durationMs: number,\n\n    nextAnimationFrame: undefined | number,\n\n    paused: boolean,\n};\n\nclass SvgPlant {\n    body: PlantBody;\n    private cfg: SvgPlantCfg;\n\n    private _svgElement: SVGElement | null;\n    private _potSvgElement: SVGElement | null;\n    private _bodySvgElement: SVGElement | null;\n\n    private animation: PlantAnimation | null;\n\n    constructor( genus: Genus, cfg?: SvgPlantCfgArg ) {\n        this.cfg = {\n            color: true,\n            age: 1,\n            potSize: .3,\n            potPathAttr: { fill: '#fc7', stroke: '#da5' },\n        };\n\n        if (typeof cfg == 'object') {\n            if (cfg.color !== undefined) this.color = cfg.color;\n            if (cfg.age !== undefined) this.age = cfg.age;\n            if (cfg.potSize !== undefined) this.potSize = cfg.potSize;\n            if (cfg.potPathAttr !== undefined) this.potPathAttr = cfg.potPathAttr;\n        }\n\n        this.body = new PlantBody( genus );\n\n        this._svgElement = null;\n        this._potSvgElement = null;\n        this._bodySvgElement = null;\n\n        this.animation = null;\n    }\n\n    get seed(): string {\n        return this.body.genus.rngSeed;\n    }\n\n    get color(): boolean { return this.cfg.color; }\n    set color( v: boolean ) {\n        v = !!v;\n        if (v != this.cfg.color) {\n            this.cfg.color = v;\n            this.update();\n        }\n    }\n\n    get age(): number { return this.cfg.age; }\n    set age( v: number ) {\n        v = Math.max( 0, Math.min( v, 1 ));\n        if (v != this.cfg.age) {\n            this.cfg.age = v;\n            this.update( true, false );\n        }\n    }\n\n    get potSize(): number { return this.cfg.potSize; }\n    set potSize( v: number ) {\n        v = Math.max( 0, Math.min( v, 1 ));\n        if (v != this.cfg.potSize) {\n            this.cfg.potSize = v;\n            this.update( false, true );\n        }\n    }\n\n    get potPathAttr(): attributeSet { return this.cfg.potPathAttr; }\n    set potPathAttr( v: attributeSet ) {\n        if (v !== this.cfg.potPathAttr) {\n            this.cfg.potPathAttr = v;\n            this.update( false, true );\n        }\n    }\n\n    update( body=true, pot=true ) {\n        if (body) this._bodySvgElement = null;\n        if (pot) this._potSvgElement = null;\n        this.updateSvgElement();\n    }\n\n    get svgElement(): SVGElement {\n        if (!this._svgElement) {\n            this._svgElement = this.getSvgElement();\n        }\n        return this._svgElement;\n    }\n    updateSvgElement(): void {\n        const svg = this._svgElement;\n        if (!svg) return;\n\n        svg.innerHTML = this.getSvgElement().innerHTML;\n    }\n    getSvgElement(): SVGElement {\n        const svg = html.svg.root({\n            class: 'svg-plant',\n            viewBox: '0 0 1 1',\n            preserveAspectRatio: 'xMidYMax meet',\n        });\n\n        const place = ( el: Element, x: number, y: number, w: number, h: number ) => {\n            el.setAttribute( 'x', String( x ) );\n            el.setAttribute( 'y', String( y ) );\n            el.setAttribute( 'width', String( w ) );\n            el.setAttribute( 'height', String( h ) );\n        };\n\n        const pot = this.potSvgElement;\n        const body = this.bodySvgElement;\n\n        if (this.cfg.potSize >= 1 && pot !== null) {\n            svg.appendChild( pot );\n            place( pot, 0, 0, 1, 1 );\n        }\n        else if (this.cfg.potSize <= 0 && body !== null) {\n            svg.appendChild( body );\n            place( body, 0, 0, 1, 1 );\n        }\n        else if (pot && body) {\n            svg.appendChild( pot );\n            place( pot, 0, 1 - this.cfg.potSize, 1, this.cfg.potSize );\n            svg.appendChild( body );\n\n            // with high contrast there is a slight gap visible, between pot and plant.\n            // without color this is way more noticable, and the slight overlap is invisible.\n            const overlap = this.cfg.color ? 0 : .001;\n\n            let height;\n            const bodyHeight = 1 - this.cfg.potSize;\n\n            if (this.body.yFactor > 1) {\n                // this means the plant has points \"below the fold\"\n                // or: points that overlap the potsize area\n                // so the height of \"1 - this._cfg.potSize\" needs to be expanded accordingly\n\n                const wrapperAR = 1 / bodyHeight;\n                const aboveFoldBodyAR = this.body.bbox.width / -this.body.bbox.y0;\n                if (wrapperAR < aboveFoldBodyAR) {\n                    // the plantbody is scaled down, to fit the viewbox's width\n                    // the yFactor now needs to be applied only to the plants scaled down height\n                    // not the full available area of \"1 - this._cfg.potSize\"\n\n                    const scaledBodyHeight = -this.body.bbox.y0 / this.body.bbox.width;\n                    height = bodyHeight + (scaledBodyHeight * this.body.yFactor - scaledBodyHeight);\n                }\n                else {\n                    height = bodyHeight * this.body.yFactor;\n                }\n            }\n            else {\n                height = bodyHeight;\n            }\n\n            place( body, 0, 0, 1, height + overlap );\n\n        }\n\n        return svg;\n    }\n\n    get potSvgElement(): SVGElement | null {\n        if (this.cfg.potSize == 0) return null;\n\n        if (!this._potSvgElement) {\n            this._potSvgElement = this.getPotSvgElement();\n        }\n        return this._potSvgElement;\n    }\n    getPotSvgElement(): SVGElement {\n        if (!this.cfg.color) return plantPotSvg({});\n        return plantPotSvg( this.cfg.potPathAttr );\n    }\n\n    get bodySvgElement(): SVGElement | null {\n        if (this.cfg.potSize == 1) return null;\n\n        if (!this._bodySvgElement) {\n            this._bodySvgElement = this.getBodySvgElement();\n        }\n        return this._bodySvgElement;\n    }\n    getBodySvgElement(): SVGElement {\n        return this.body.getSvg( this.cfg.age, this.cfg.color );\n    }\n\n    animate( fromAge=0, toAge=1, durationMs=3000 ) {\n        this.cancelAnimation();\n\n        this.animation = {\n            fromAge,\n            toAge,\n            ageSpan: toAge - fromAge,\n            currentAge: fromAge,\n\n            durationMs,\n\n            nextAnimationFrame: undefined,\n\n            paused: true,\n        };\n\n        this.resumeAnimation();\n    }\n    pauseAnimation() {\n        if (this.animation) {\n            if (this.animation.nextAnimationFrame !== undefined) {\n                cancelAnimationFrame( this.animation.nextAnimationFrame );\n            }\n            this.animation.paused = true;\n        }\n    }\n    cancelAnimation() {\n        this.pauseAnimation();\n        this.animation = null;\n    }\n    resumeAnimation() {\n        const a = this.animation;\n        if (!a || !a.paused) return;\n        a.paused = false;\n\n        this.age = a.currentAge;\n\n        const acl = (t: number): number => t<0 ? 0 : t>1 ? 1 : Math.sin( (t - .5) * Math.PI ) * .5 + .5;\n        const aclInv = (t: number): number => t<0 ? 0 : t>1 ? 1 : Math.asin( t * 2 - 1 ) / Math.PI + .5;\n\n        let t0: number;\n        const upd = (ts: number) => {\n            if (!t0) {\n                const f = (a.currentAge - a.fromAge) / a.ageSpan;\n                t0 = ts - aclInv( f ) * a.durationMs;\n                a.nextAnimationFrame = requestAnimationFrame( upd );\n            }\n            else {\n                const f = acl( Math.min( 1, (ts - t0) / a.durationMs ) );\n\n                if (f < 1) {\n                    this.cfg.age = a.fromAge + f * a.ageSpan;\n                    a.currentAge = this.cfg.age;\n\n                    this._bodySvgElement = null;\n                    this.updateSvgElement();\n\n                    a.nextAnimationFrame = requestAnimationFrame( upd );\n                }\n                else {\n                    this.age = a.toAge;\n                    this.animation = null;\n                }\n            }\n        };\n\n        a.nextAnimationFrame = requestAnimationFrame( upd );\n    }\n}\n\nexport { SvgPlant };","import { rng, nodePos, nodeAttr, offshoot, node } from \"../util/util\";\nimport { rngSeed, attributeSet, leafCurvesHandles, leafDefinition, Genus } from '../types';\n\nclass BaseGenus implements Genus {\n\n    rng: rng;\n    width: number;\n    height: number;\n    maxBranchNum: number;\n\n    segmentStyle: attributeSet;\n    leafStyle: attributeSet;\n    leafCurveHandles: leafCurvesHandles;\n\n    constructor( rngSeed?: rngSeed ) {\n        this.rng = rng( rngSeed );\n\n        this.width = 4;\n        this.height = 4;\n        this.maxBranchNum = 1;\n\n        this.segmentStyle = {\n            fill: '#161',\n            stroke: '#041',\n            'stroke-width': .0075,\n        };\n\n        this.leafStyle = {\n            stroke: '#0d5',\n            fill: 'rgba(0,255,110,.9)',\n            'stroke-width': .02,\n        };\n        this.leafCurveHandles = {\n            bottomAngle: 60,\n            bottomLength: .6,\n            topAngle: 179,\n            topLength: .2,\n        };\n    }\n\n    static get genusName(): string {\n        const cn = this.name;\n        return cn.substring( 0, cn.length - 5 );\n    }\n    get genusName(): string {\n        const cn = this.constructor.name;\n        return cn.substring( 0, cn.length - 5 );\n    }\n    get rngSeed(): string {\n        return this.rng.seed;\n    }\n    reset(): void {\n        this.rng.reset();\n    }\n\n    getRoots(): offshoot[] {\n        return [\n            {\n                n: 3,\n                attr: { x: 0, segmentAngle: 0 }\n            },\n        ];\n    }\n    getOffshoots( node: node ): offshoot[] {\n        if (node.pos.isLast || node.pos.num==0) return [];\n\n        return [\n            {\n                n: 1,\n                attr: { segmentAngle: node.attr.angle - 60 }\n            },\n            {\n                n: 1,\n                attr: { segmentAngle: node.attr.angle + 60 }\n            },\n        ];\n    }\n\n    getNodeWidth( _pos: nodePos, _prev: node | null, _attr: nodeAttr ): number {\n        return .1;\n    }\n    getSegmentLength( _pos: nodePos, _prev: node | null, _attr: nodeAttr ) {\n        return 1;\n    }\n    getSegmentAngle( pos: nodePos, prev: node, _attr: nodeAttr ) {\n        if (pos.isOffshoot) return prev.attr.angle;\n        return prev.attr.segmentAngle !== undefined ? prev.attr.segmentAngle : prev.attr.angle;\n    }\n\n    getSegmentStyle( _n0: node, _n1: node ): attributeSet {\n        return this.segmentStyle;\n    }\n\n    getLeaves( _n0: node, n1: node ): leafDefinition[] {\n        if (!n1.pos.isLast) return [];\n\n        return [\n            {\n                angle: n1.attr.angle,\n                length: 1,\n                handles: this.leafCurveHandles,\n                style: this.leafStyle,\n\n                xOffset: 0,\n                yOffset: .95,\n            }\n        ];\n    }\n};\n\nexport { BaseGenus };","import { BaseGenus } from \"./BaseGenus\";\nimport { plantHelper, node, nodePos, nodeAttr } from \"../util/util\";\nimport { Genus, rngSeed } from '../types';\n\nclass CannabisGenus extends BaseGenus implements Genus {\n\n    constructor( rngSeed?: rngSeed, colorize: any) {\n        super( rngSeed );\n\n        this.width = 3.6;\n        this.height = 3.5;\n        this.maxBranchNum = 900;\n\n        this.segmentStyle = {\n            stroke: '#041',\n            fill: '#161',\n            'stroke-width': .0075,\n        };\n\n        this.leafStyle = {\n            stroke: colorize(rngSeed),\n            fill: 'rgba(0,255,110,.9)',\n            'stroke-width': .03\n        };\n        this.leafCurveHandles = {\n            bottomAngle: 50,\n            bottomLength: .3,\n            topAngle: 179,\n            topLength: .1\n        };\n    }\n\n    getRoots() {\n        return [\n            {\n                n: this.rng.intRange( 4, 6 ),\n                attr: plantHelper.rootPosAngle( this.rng, .5, 6 ),\n            },\n        ];\n    }\n    getOffshoots( node: node ) {\n        if (node.pos.isLast || node.pos.num==0) return [];\n\n        const p = .9 * (.9 + .5 * node.pos.numFactor) * (.9 + .5 * node.pos.branchFactor);\n        const a = [];\n\n        const getNodeCount = () => 4 - node.pos.branchNum - this.rng.test( .6, 1, 0 );\n\n        if (this.rng.test( p )) a.push({\n            n: getNodeCount(),\n            attr: {\n                segmentAngle: node.attr.angle + this.rng.range( 25, 60 ),\n            }\n        });\n\n        if (this.rng.test( p )) a.push({\n            n: getNodeCount(),\n            attr: {\n                segmentAngle: node.attr.angle + this.rng.range( -60, -25 ),\n            }\n        });\n\n        return a;\n    }\n\n    getNodeWidth( pos: nodePos, prev: node | null, _attr: nodeAttr ) {\n        if (pos.isOffshoot && prev) return prev.attr.width;\n        return .1 * (.1 + .4 * pos.branchFactor);\n    }\n    getSegmentLength( pos: nodePos, prev: node | null, _attr: nodeAttr ) {\n        if (!prev) return 1;\n        if (!pos.isOffshoot && pos.branchNum>0) return prev.attr.length * .75;\n        if (!pos.isOffshoot) return prev.attr.length;\n\n        const f = .2 + .8 * (prev.branchRoot.prev ? prev.branchRoot.prev.pos.numFactor : 1);\n        return prev.attr.length * f;\n    }\n    getSegmentAngle( pos: nodePos, prev: node, _attr: nodeAttr ) {\n        if (pos.branchNum>0) return plantHelper.nextAngle( this.rng, pos, prev, 16, true );\n        return plantHelper.nextAngle( this.rng, pos, prev, 8, true );\n    }\n\n    getSegmentStyle( _n0: node, _n1: node ) {\n        return this.segmentStyle;\n    }\n\n    getLeaves( _n0: node, n1: node ) {\n        if (n1.pos.branchNum==0 && n1.pos.num<2) return [];\n\n        const leaves: leafDefinition[] = [];\n\n        const addLeaf = (avf: number) => {\n            leaves.push({\n                angle: n1.attr.angle + (avf ? (avf * this.rng.range( 20, 40 )) : this.rng.range( -10, 10 )),\n                length: this.rng.range( .5, .75 ),\n                handles: this.leafCurveHandles,\n                style: this.leafStyle,\n\n                xOffset: avf ? -avf * this.rng.range( 0, .5) : 0,\n                yOffset: avf ? this.rng.range( .3, .7 ) : .95,\n            });\n        };\n\n        if (n1.pos.isLast && this.rng.test( .5 )) addLeaf( 0 );\n        if (n1.pos.isLast && this.rng.test( .5 )) addLeaf( 0 );\n        if (this.rng.test( .5 )) addLeaf( 1 );\n        if (this.rng.test( .5 )) addLeaf( -1 );\n        if (this.rng.test( .5 )) addLeaf( 2 );\n        if (this.rng.test( .5 )) addLeaf( -2 );\n        if (this.rng.test( .5 )) addLeaf( 3 );\n        if (this.rng.test( .5 )) addLeaf( -3 );\n\n        return leaves;\n    }\n};\n\nexport { CannabisGenus };","import { SvgPlant } from \"../Plant/SvgPlant\";\nimport { PlantBody } from \"../Plant/PlantBody\";\nimport { GenusConstructor } from '../types';\n\nconst testPlantBodySize = (genus: GenusConstructor, n=1000) => {\n    const widths: number[] = [];\n    const heights: number[] = [];\n\n    for (let i=0; i<n; i++) {\n        const p = (new SvgPlant( new genus )).body;\n        p.genus.width = 0;\n        p.genus.height = 0;\n        p.init();\n\n        widths.push( p.bbox.width );\n        heights.push( p.bbox.height );\n    }\n\n    widths.sort( (a,b) => a - b );\n    heights.sort( (a,b) => a - b );\n\n    return ( q=50 ) => {\n        const i = Math.max( 0, Math.min( n-1, Math.round( q / 100 * (n-1) ) ) );\n        return {\n            width: widths[ i ],\n            height: heights[ i ],\n        };\n    };\n};\n\nconst findSeed = (genus: GenusConstructor, test: (p: PlantBody) => boolean, timeoutMs=10*1000) => {\n    let cancel = false, n = 0, seed;\n    const t0 = Date.now();\n\n    const to = setTimeout(() => {\n        cancel = true;\n    }, timeoutMs );\n\n    while (true) {\n        const p = (new SvgPlant( new genus )).body;\n        p.genus.width = 0;\n        p.genus.height = 0;\n        p.init();\n        n++;\n\n        if (test( p )) {\n            clearTimeout( to );\n            seed = p.genus.rngSeed;\n            console.log( 'Seed found!', seed );\n            break;\n        }\n\n        if (cancel) {\n            console.log( 'No seed was found' );\n            break;\n        }\n    }\n\n    const t = ((Date.now() - t0) / 1000 ).toFixed( 2 );\n    console.log( 'findSeed finished after ' + t + ' seconds and ' + n + ' tries.' );\n\n    return seed;\n};\n\nconst testPerformance = (genus: GenusConstructor, durationMs=10*1000) => {\n    const t0 = Date.now();\n    let n = 0;\n\n    while (true) {\n        const p = (new SvgPlant( new genus )).body;\n        p.genus.width = 0;\n        p.genus.height = 0;\n        p.init();\n        n++;\n\n        if (Date.now() - t0 > durationMs) break;\n    }\n\n    const ms = Date.now() - t0;\n    const s = ms / 1000;\n\n    console.group( genus.name + ' Performance Test' );\n    console.log( 'created ' + n + ' plants in ' + s.toFixed( 2 ) + ' seconds' );\n    console.log( (n/s).toFixed(2) + ' plants/sec' );\n    console.log( (ms/n).toFixed(2) + ' ms/plant' );\n    console.groupEnd();\n\n    return;\n}\n\nexport {\n    testPlantBodySize,\n    findSeed,\n    testPerformance,\n}","\nimport { SvgPlant } from './Plant/SvgPlant';\nimport { BaseGenus } from './Genera/BaseGenus';\nimport { CannabisGenus } from './Genera/CannabisGenus';\nimport * as DevTools from './util/DevTools';\nimport { plantHelper } from './util/util';\n\nconst Genera = {\n    'Cannabis' : CannabisGenus,\n};\n\nexport {\n    SvgPlant,\n    Genera,\n    BaseGenus, CannabisGenus, \n    plantHelper,\n    DevTools,\n};"],"names":["this","define","require$$0","sr","html","node","tag","set","document","createElement","attr","nodeNS","ns","createElementNS","name","setAttribute","String","svg","root","setAttributeNS","el","compilePathDescription","points","d","p","length","push","join","math","toRadians","degrees","Math","PI","fromAngle","point","angle","precision","a","sin","cos","round","rectFromLine","pointBottom","pointTop","angleBottom","angleTop","widthBottom","widthTop","pointOnLine","p1","p2","distance","dx","dy","sqrt","plantHelper","rootPosAngle","rng","xMax","maxAngle","x","range","f","abs","segmentAngle","baseNode","undefined","nextAngle","pos","prevNode","variance","alternate","isOffshoot","pa","dir","branchNum","treeRoot","num","archingBranchAngle","numAdjust","base","branchRoot","branchArchAngle","numFactor","repeat","cb","shuffle","steps","values","n","test","v","i","from","to","step","Array","isArray","intRange","seed","seedStr","random","substring","fn","reset","seedrandom","pass","fail","r","v0","v1","floor","ranges","ep","last","pop","j","tmp","BBox","constructor","data","x0","x1","y0","y1","Infinity","addX","addY","addPoint","y","addBBox","bbox","expand","contains","strict","containedBy","containsPoint","clone","withPrecision","width","height","aspectRatio","pointsArray","viewBox","ProcTree","maxBranchNum","getNode","getOffshoots","roots","grow","growBranch","Number","rootNode","offshootNum","segmentCount","isTreeRoot","addNode","isLastBranch","offshoots","prev","maxNum","rootAttr","getPos","next","offshootHeight","isRoot","isLast","branchFactor","eachSegment","_each","offshootNode","plantPotSvg","pathAttr","baseCfg","rimHeight","rimLipOuter","rimLipInner","bottom","sw","pad","getPoints","cfg","path","class","preserveAspectRatio","appendChild","expandXBounds","bounds","value","minX","maxX","expandYBounds","minY","maxY","calculateBezier","t","p0","p3","mt","bezierCurveBoundingBox","cx1","cy1","cx2","cy2","x2","y2","min","max","dcx0","dcy0","dcx1","dcy1","dcx2","dcy2","b","c","numerator","denominator","quadroot","t1","t2","prc","BranchSegment","style","n0","n1","bottomWidth","topWidth","bottomAngle","topAngle","top","ageOffset","totalLength","getBoundingBox","age","ageFactor","getAgeFactor","bb","getOffsetPoint","l1","l2","l3","Leaf","segment","handles","xOffset","yOffset","pBase","curves","getCurves","up","down","bha","bhl","bottomLength","tha","thl","topLength","Branches","segments","leaves","addSegment","branch","addLeaf","leaf","getArray","ret","concat","sortLeaves","sort","l0","d0","d1","PlantBody","genus","maxAge","yFactor","getTree","getNodeAttr","getNodeWidth","getSegmentAngle","getSegmentLength","getRoots","init","tree","branches","Map","getBasePoint","get","rp","getSegmentStyle","s","getLeaves","map","parts","bboxX","render","colors","add","Object","assign","getSvg","SvgPlant","color","potSize","potPathAttr","fill","stroke","body","_svgElement","_potSvgElement","_bodySvgElement","animation","rngSeed","update","pot","updateSvgElement","svgElement","getSvgElement","innerHTML","place","w","h","potSvgElement","bodySvgElement","overlap","bodyHeight","wrapperAR","aboveFoldBodyAR","scaledBodyHeight","getPotSvgElement","getBodySvgElement","animate","fromAge","toAge","durationMs","cancelAnimation","ageSpan","currentAge","nextAnimationFrame","paused","resumeAnimation","pauseAnimation","cancelAnimationFrame","acl","aclInv","asin","t0","upd","ts","requestAnimationFrame","BaseGenus","segmentStyle","leafStyle","leafCurveHandles","genusName","cn","_pos","_prev","_attr","_n0","_n1","CannabisGenus","colorize","getNodeCount","avf","testPlantBodySize","widths","heights","q","findSeed","timeoutMs","cancel","Date","now","setTimeout","clearTimeout","console","log","toFixed","testPerformance","ms","group","groupEnd","Genera"],"mappings":"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"}