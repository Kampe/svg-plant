!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("crypto")):"function"==typeof define&&define.amd?define(["exports","crypto"],e):e((t=t||self).SvgPlant={},t.crypto)}(this,(function(t,e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var i=r((function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e}));var o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t};var u=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t};var h=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r};var f=function(t){if(Array.isArray(t))return h(t)};var g=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)};var l=function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}};var c=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var v=function(t){return f(t)||g(t)||l(t)||c()},d=r((function(t){!function(t,e,n){function r(t){var e,n=this,r=(e=4022871197,function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function i(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function o(t,e){var n=new r(t),o=e&&e.state,s=n.next;return s.int32=function(){return 4294967296*n.next()|0},s.double=function(){return s()+11102230246251565e-32*(2097152*s()|0)},s.quick=s,o&&("object"==typeof o&&i(o,n),s.state=function(){return i(n,{})}),s}e&&e.exports?e.exports=o:n&&n.amd?n((function(){return o})):this.alea=o}(0,t,!1)})),m=r((function(t){!function(t,e,n){function r(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function i(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function o(t,e){var n=new r(t),o=e&&e.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=n.next,s.quick=s,o&&("object"==typeof o&&i(o,n),s.state=function(){return i(n,{})}),s}e&&e.exports?e.exports=o:n&&n.amd?n((function(){return o})):this.xor128=o}(0,t,!1)})),y=r((function(t){!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function i(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function o(t,e){var n=new r(t),o=e&&e.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=n.next,s.quick=s,o&&("object"==typeof o&&i(o,n),s.state=function(){return i(n,{})}),s}e&&e.exports?e.exports=o:n&&n.amd?n((function(){return o})):this.xorwow=o}(0,t,!1)})),p=r((function(t){!function(t,e,n){function r(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function i(t,e){return e.x=t.x.slice(),e.i=t.i,e}function o(t,e){null==t&&(t=+new Date);var n=new r(t),o=e&&e.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=n.next,s.quick=s,o&&(o.x&&i(o,n),s.state=function(){return i(n,{})}),s}e&&e.exports?e.exports=o:n&&n.amd?n((function(){return o})):this.xorshift7=o}(0,t,!1)})),b=r((function(t){!function(t,e,n){function r(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,o=e.i;return e.w=r=r+1640531527|0,n=i[o+34&127],t=i[o=o+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=i[o]=n^t,e.i=o,n+(r^r>>>16)|0},function(t,e){var n,r,i,o,s,a=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),i=0,o=-32;o<u;++o)e&&(r^=e.charCodeAt((o+32)%e.length)),0===o&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(s=s+1640531527|0,i=0==(n=a[127&o]^=r+s)?i+1:0);for(i>=128&&(a[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)r=a[i+34&127],n=a[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,a[i]=r^n;t.w=s,t.X=a,t.i=i}(e,t)}function i(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function o(t,e){null==t&&(t=+new Date);var n=new r(t),o=e&&e.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=n.next,s.quick=s,o&&(o.X&&i(o,n),s.state=function(){return i(n,{})}),s}e&&e.exports?e.exports=o:n&&n.amd?n((function(){return o})):this.xor4096=o}(0,t,!1)})),x=r((function(t){!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function i(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function o(t,e){var n=new r(t),o=e&&e.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=n.next,s.quick=s,o&&("object"==typeof o&&i(o,n),s.state=function(){return i(n,{})}),s}e&&e.exports?e.exports=o:n&&n.amd?n((function(){return o})):this.tychei=o}(0,t,!1)})),w=r((function(t){!function(n,r,i){var o,s=i.pow(256,6),a=i.pow(2,52),u=2*a;function h(t,e,h){var v=[],d=l(function t(e,n){var r,i=[],o=typeof e;if(n&&"object"==o)for(r in e)try{i.push(t(e[r],n-1))}catch(t){}return i.length?i:"string"==o?e:e+"\0"}((e=1==e?{entropy:!0}:e||{}).entropy?[t,c(r)]:null==t?function(){try{var t;return o&&(t=o.randomBytes)?t=t(256):(t=new Uint8Array(256),(n.crypto||n.msCrypto).getRandomValues(t)),c(t)}catch(t){var e=n.navigator,i=e&&e.plugins;return[+new Date,n,i,n.screen,c(r)]}}():t,3),v),m=new f(v),y=function(){for(var t=m.g(6),e=s,n=0;t<a;)t=256*(t+n),e*=256,n=m.g(1);for(;t>=u;)t/=2,e/=2,n>>>=1;return(t+n)/e};return y.int32=function(){return 0|m.g(4)},y.quick=function(){return m.g(4)/4294967296},y.double=y,l(c(m.S),r),(e.pass||h||function(t,e,n,r){return r&&(r.S&&g(r,m),t.state=function(){return g(m,{})}),n?(i.random=t,e):t})(y,d,"global"in e?e.global:this==i,e.state)}function f(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,s=r.S=[];for(n||(t=[n++]);i<256;)s[i]=i++;for(i=0;i<256;i++)s[i]=s[o=255&o+t[i%n]+(e=s[i])],s[o]=e;(r.g=function(t){for(var e,n=0,i=r.i,o=r.j,s=r.S;t--;)e=s[i=255&i+1],n=256*n+s[255&(s[i]=s[o=255&o+e])+(s[o]=e)];return r.i=i,r.j=o,n})(256)}function g(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function l(t,e){for(var n,r=t+"",i=0;i<r.length;)e[255&i]=255&(n^=19*e[255&i])+r.charCodeAt(i++);return c(e)}function c(t){return String.fromCharCode.apply(0,t)}if(l(i.random(),r),t.exports){t.exports=h;try{o=e}catch(t){}}else i.seedrandom=h}("undefined"!=typeof self?self:n,[],Math)}));w.alea=d,w.xor128=m,w.xorwow=y,w.xorshift7=p,w.xor4096=b,w.tychei=x;var A=w;function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var L={node:function(t,e){var n=document.createElement(t);return L.attr(n,e),n},nodeNS:function(t,e,n){var r=document.createElementNS(n,t);return L.attr(r,e),r},attr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e)t.setAttribute(n,String(e[n]))},svg:{root:function(t){var e=L.svg.node("svg",t);return e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e},node:function(t,e){var n=L.nodeNS(t,{},"http://www.w3.org/2000/svg");return L.attr(n,e),n},compilePathDescription:function(t){var e,n=[],r=O(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;1==i.length?n.push(i):2==i.length?n.push(i[0],i[1]):3==i.length&&n.push(i[0],i[1],i[2])}}catch(t){r.e(t)}finally{r.f()}return n.join(" ")}}},M={toRadians:function(t){return t*(Math.PI/180)},fromAngle:function(t,e,n,r){var i=[Math.sin(M.toRadians(e))*n+t[0],-Math.cos(M.toRadians(e))*n+t[1]];return r&&(i[0]=Math.round(i[0]*r),i[1]=Math.round(i[1]*r)),i},rectFromLine:function(t,e,n,r,i,o,s){return i/=2,o/=2,[M.fromAngle(t,n-90,i,s),M.fromAngle(e,r-90,o,s),M.fromAngle(e,r+90,o,s),M.fromAngle(t,n+90,i,s)]},pointOnLine:function(t,e,n){return[t[0]+n*(e[0]-t[0]),t[1]+n*(e[1]-t[1])]},distance:function(t,e){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}},N={rootPosAngle:function(t,e,n){var r=t.range(-e,e);return{x:r,segmentAngle:n*(Math.abs(r)/e)*(r<0?-1:1)}},segmentAngle:function(t){return void 0!==t.attr.segmentAngle?t.attr.segmentAngle:t.attr.angle},nextAngle:function(t,e,n,r,i){if(e.isOffshoot)return n.attr.angle;var o=this.segmentAngle(n);if(i){var s=e.branchNum>0||n.treeRoot.attr.x>=0?1:-1;return o+(n.pos.num%2?1:-1)*t.range(0,r)*s}return o+t.range(-r,r)},archingBranchAngle:function(t,e,n,r,i){if(e.isOffshoot)return n.attr.angle;var o=N.segmentAngle(n),s=n.branchRoot.attr.branchArchAngle;return o+(i?1-i+i*(1-e.numFactor):1)*s+t.range(-r,r)},repeat:function(t){var e=t.rng,n=t.cb,r=t.p,i=void 0===r?1:r,o=t.shuffle,s=void 0===o||o,a=t.steps,u=t.values,h=t.n,f=[];if(i<=0)return f;var g=i<1;if(void 0!==u){var l,c=O(u);try{for(c.s();!(l=c.n()).done;){var v=l.value;g&&!e.test(i)||f.push(n(v))}}catch(t){c.e(t)}finally{c.f()}}else if(void 0!==a)for(var d=a.from;d<=a.to;d+=a.step)g&&!e.test(i)||f.push(n(d));else if(void 0!==h){Array.isArray(h)&&(h=e.intRange(h[0],h[1]));for(var m=0;m<h;m++)g&&!e.test(i)||f.push(n(m))}return s&&e.shuffle(f),f}},R=function(){function t(e){o(this,t),u(this,"x0",void 0),u(this,"x1",void 0),u(this,"y0",void 0),u(this,"y1",void 0),e?(this.x0=e.x0,this.x1=e.x1,this.y0=e.y0,this.y1=e.y1):(this.x0=1/0,this.x1=-1/0,this.y0=1/0,this.y1=-1/0)}return a(t,[{key:"addX",value:function(t){return t<this.x0&&(this.x0=t),t>this.x1&&(this.x1=t),this}},{key:"addY",value:function(t){return t<this.y0&&(this.y0=t),t>this.y1&&(this.y1=t),this}},{key:"addPoint",value:function(t,e){return this.addX(t),this.addY(e),this}},{key:"addBBox",value:function(t){return this.addX(t.x0),this.addX(t.x1),this.addY(t.y0),this.addY(t.y1),this}},{key:"expand",value:function(t){return this.x0-=t,this.x1+=t,this.y0-=t,this.y1+=t,this}},{key:"contains",value:function(t,e){return e?this.x0<t.x0&&this.x1>t.x1&&this.y0<t.y0&&this.y1>t.y1:this.x0<=t.x0&&this.x1>=t.x1&&this.y0<=t.y0&&this.y1>=t.y1}},{key:"containedBy",value:function(t,e){return e?this.x0>t.x0&&this.x1<t.x1&&this.y0>t.y0&&this.y1<t.y1:this.x0>=t.x0&&this.x1<=t.x1&&this.y0>=t.y0&&this.y1<=t.y1}},{key:"containsPoint",value:function(t,e,n){return n?!(t<=this.x0||t>=this.x1||e<=this.y0||e>=this.y1):!(t<this.x0||t>this.x1||e<this.y0||e>this.y1)}},{key:"clone",value:function(){return new t(this.data)}},{key:"withPrecision",value:function(e){return new t({x0:Math.round(this.x0*e),x1:Math.round(this.x1*e),y0:Math.round(this.y0*e),y1:Math.round(this.y1*e)})}},{key:"width",get:function(){return this.x1-this.x0}},{key:"height",get:function(){return this.y1-this.y0}},{key:"aspectRatio",get:function(){return this.height?this.width/this.height:0}},{key:"data",get:function(){return{x0:this.x0,x1:this.x1,y0:this.y0,y1:this.y1}}},{key:"pointsArray",get:function(){return[[this.x0,this.y0],[this.x1,this.y1]]}},{key:"viewBox",get:function(){return"".concat(this.x0," ").concat(this.y0," ").concat(this.width," ").concat(this.height)}}]),t}(),j=function(){function t(e,n,r){o(this,t),u(this,"maxBranchNum",void 0),u(this,"getNode",void 0),u(this,"getOffshoots",void 0),u(this,"roots",void 0),this.maxBranchNum=e,this.getNode=n,this.getOffshoots=r,this.roots=[]}return a(t,[{key:"grow",value:function(){var t=this.getOffshoots(null);for(var e in t)this.growBranch(null,Number(e),t[e].n,t[e].attr||{})}},{key:"growBranch",value:function(t,e,n,r){var i=!t,o=this.addNode(t,!0,e,n,r);i&&this.roots.push(o);var s=this.maxBranchNum==o.pos.branchNum;if(!s&&i){var a=this.getOffshoots(o);for(var u in a)this.growBranch(o,Number(u),a[u].n,a[u].attr||{})}for(var h=0;h<n;h++)if(o=this.addNode(o,!1,e,n,{}),!s){var f=this.getOffshoots(o);for(var g in f)this.growBranch(o,Number(g),f[g].n,f[g].attr||{})}}},{key:"addNode",value:function(t,e,n,r,i){var o=this.getPos(t?t.pos:null,e,r),s={pos:o,attr:k(k({},i),this.getNode(o,t,i)),offshoots:[],prev:null,next:null,branchRoot:{},treeRoot:{},offshootNum:0};return t?(s.prev=t,s.branchRoot=e?s:t.pos.isOffshoot?t:t.branchRoot,s.treeRoot=t.treeRoot?t.treeRoot:t,e?(t.offshoots.push(s),s.offshootNum=n):t.next=s):(s.branchRoot=s,s.treeRoot=s,s.offshootNum=n),s}},{key:"getPos",value:function(t,e,n){if(null===t)return{num:0,branchNum:0,height:0,offshootHeight:0,isRoot:!0,isLast:0==n,isLastBranch:0==this.maxBranchNum,isOffshoot:e,numFactor:1,branchFactor:1};var r={num:e?0:t.num+1,branchNum:e?t.branchNum+1:t.branchNum,height:e?t.height:t.height+1,offshootHeight:e?t.num:t.offshootHeight,isRoot:!1,isLast:!1,isLastBranch:!1,isOffshoot:e,numFactor:0,branchFactor:0};return r.num==n&&(r.isLast=!0),r.branchNum==this.maxBranchNum&&(r.isLastBranch=!0),r.numFactor=n?1-r.num/n:1,r.branchFactor=this.maxBranchNum?1-r.branchNum/this.maxBranchNum:1,r}},{key:"eachSegment",value:function(t){var e,n=O(this.roots);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._each(r,t)}}catch(t){n.e(t)}finally{n.f()}}},{key:"_each",value:function(t,e){for(;t;){t.pos.num>0&&t.prev&&e(t.prev,t);var n,r=O(t.offshoots);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._each(i.next,e)}}catch(t){r.e(t)}finally{r.f()}t=t.next}}}]),t}();function B(t){var e=!!t&&("stroke-width"in t?t["stroke-width"]:2);e&&(t["stroke-width"]=e);var n,r=e&&"number"==typeof e?e/2:0;t||(t={}),t.d=L.svg.compilePathDescription([["M",r,r],["L",100-r,r],["L",100-r-(n={rimHeight:20,rimLipOuter:2,rimLipInner:4,bottom:15}).rimLipOuter,n.rimHeight],["L",100-r-n.rimLipInner,n.rimHeight],["L",100-r-n.bottom,100-r],["L",r+n.bottom,100-r],["L",r+n.rimLipInner,n.rimHeight],["L",r+n.rimLipOuter,n.rimHeight],"Z"]);var i=L.svg.node("path",t),o=L.svg.root({class:"svg-plant-pot",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMax meet"});return o.appendChild(i),o}function E(t,e){t.minX>e?t.minX=e:t.maxX<e&&(t.maxX=e)}function F(t,e){t.minY>e?t.minY=e:t.maxY<e&&(t.maxY=e)}function C(t,e,n,r,i){var o=1-t;return o*o*o*e+3*o*o*t*n+3*o*t*t*r+t*t*t*i}function _(t,e,n,r,i,o,s,a){var u={minX:Math.min(t,s),minY:Math.min(e,a),maxX:Math.max(t,s),maxY:Math.max(e,a)},h=r-e,f=o-r,g=a-o;if(n<u.minX||n>u.maxX||i<u.minX||i>u.maxX){var l=n-t,c=i-n,v=s-i;l+v!==2*c&&(c+=1e-4);var d=2*(l-c),m=2*(l-2*c+v);0===m&&(m=1e-4);var y=(2*c-2*l)*(2*c-2*l)-2*l*m,p=Math.sqrt(y),b=(d+p)/m,x=(d-p)/m;0<b&&b<1&&E(u,C(b,t,n,i,s)),0<x&&x<1&&E(u,C(x,t,n,i,s))}return(r<u.minY||r>u.maxY||o<u.minY||o>u.maxY)&&((l=h)+(v=g)!==2*(c=f)&&(c+=1e-4),0===(m=2*(l-2*c+v))&&(m=1e-4),y=(2*c-2*l)*(2*c-2*l)-2*l*m,x=((d=2*(l-c))-(p=Math.sqrt(y)))/m,0<(b=(d+p)/m)&&b<1&&F(u,C(b,e,r,o,a)),0<x&&x<1&&F(u,C(x,e,r,o,a))),{x0:u.minX,x1:u.maxX,y0:u.minY,y1:u.maxY}}function D(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H(t){return Array.isArray(t)?[Math.round(1e4*t[0]),Math.round(1e4*t[1])]:Math.round(1e4*t)}var X=function(){function t(e,n,r,i){o(this,t),u(this,"base",void 0),u(this,"top",void 0),u(this,"bottomWidth",void 0),u(this,"topWidth",void 0),u(this,"angle",void 0),u(this,"bottomAngle",void 0),u(this,"topAngle",void 0),u(this,"length",void 0),u(this,"ageOffset",void 0),u(this,"style",void 0),u(this,"bbox",void 0),this.base=e,this.bottomWidth=r.attr.width,this.topWidth=i.attr.width,this.angle=void 0!==r.attr.segmentAngle?r.attr.segmentAngle:r.attr.angle,this.bottomAngle=r.attr.angle,this.topAngle=i.attr.angle,this.length=r.attr.length,this.top=M.fromAngle(this.base,this.angle,this.length),this.ageOffset=r.attr.totalLength,this.style=n,this.bbox=this.getBoundingBox()}return a(t,[{key:"getPoints",value:function(t){var e=this.getAgeFactor(t);if(e){var n=this.top;e<1&&(n=M.fromAngle(this.base,this.angle,this.length*e));var r=M.rectFromLine(this.base,n,this.bottomAngle,this.topAngle,this.bottomWidth,this.topWidth,1e4);return["M",r[0],"L",r[1],"L",r[2],"L",r[3],"Z"]}}},{key:"getBoundingBox",value:function(){var t=M.rectFromLine(this.base,this.top,this.bottomAngle,this.topAngle,this.bottomWidth,this.topWidth,void 0),e=new R;return e.addPoint(t[0][0],t[0][1]),e.addPoint(t[1][0],t[1][1]),e.addPoint(t[2][0],t[2][1]),e.addPoint(t[3][0],t[3][1]),e}},{key:"getAgeFactor",value:function(t){return t<=this.ageOffset?0:t>=this.ageOffset+this.length?1:(t-this.ageOffset)/this.length}},{key:"getOffsetPoint",value:function(t,e){if(!t)return e?1==e?this.top:M.fromAngle(this.base,this.angle,this.length*e):this.base;var n=this.angle<0?1:-1;if(!e)return M.fromAngle(this.base,this.bottomAngle+90*n,this.bottomWidth/2*t);if(1==e)return M.fromAngle(this.top,this.topAngle+90*n,this.topWidth/2*t);var r=[M.fromAngle(this.base,this.bottomAngle+90*n,this.bottomWidth/2),M.fromAngle(this.top,this.topAngle+90*n,this.topWidth/2)],i=[M.fromAngle(this.base,this.bottomAngle+90*n,-this.bottomWidth/2),M.fromAngle(this.top,this.topAngle+90*n,-this.topWidth/2)],o=[M.pointOnLine(r[0],r[1],e),M.pointOnLine(i[0],i[1],e)];return t=1-(t/2+.5),M.pointOnLine(o[0],o[1],t)}}]),t}(),W=function(){function t(e,n){var r=n.angle,i=n.length,s=n.handles,a=n.style,h=n.xOffset,f=n.yOffset;o(this,t),u(this,"base",void 0),u(this,"pBase",void 0),u(this,"top",void 0),u(this,"angle",void 0),u(this,"length",void 0),u(this,"handles",void 0),u(this,"ageOffset",void 0),u(this,"style",void 0),u(this,"bbox",void 0);var g=e.getOffsetPoint(h,f);this.base=g,this.pBase=H(g),this.angle=r,this.length=i,this.handles=s,this.top=M.fromAngle(g,r,i),this.ageOffset=e.ageOffset+e.length*f,this.style=a,this.bbox=this.getBoundingBox()}return a(t,[{key:"getPoints",value:function(t){var e=this.getAgeFactor(t);if(e){var n=this.top;e<1&&(n=M.fromAngle(this.base,this.angle,this.length*e));var r=this.getCurves({top:n,ageFactor:e,precision:1e4});return n=H(n),["M",this.pBase,"C",r.up[0],r.up[1],n,"C",r.down[0],r.down[1],this.pBase]}}},{key:"getBoundingBox",value:function(){var t=this.getCurves({top:this.top,ageFactor:1}),e=new R(_(this.base[0],this.base[1],t.up[0][0],t.up[0][1],t.up[1][0],t.up[1][1],this.top[0],this.top[1]));return e.addBBox(_(this.top[0],this.top[1],t.down[0][0],t.down[0][1],t.down[1][0],t.down[1][1],this.base[0],this.base[1])),"number"==typeof this.style["stroke-width"]&&e.expand(this.style["stroke-width"]/2),e}},{key:"getCurves",value:function(t){var e=t.top,n=t.ageFactor,r=t.precision,i=this.handles.bottomAngle,o=this.handles.bottomLength*n,s=this.handles.topAngle,a=this.handles.topLength*n;return{up:[M.fromAngle(this.base,this.angle+i,this.length*o,r),M.fromAngle(e,this.angle+s,this.length*a,r)],down:[M.fromAngle(e,this.angle-s,this.length*a,r),M.fromAngle(this.base,this.angle-i,this.length*o,r)]}}},{key:"getAgeFactor",value:function(t){return t<=this.ageOffset?0:t>=this.ageOffset+this.length?1:(t-this.ageOffset)/this.length}}]),t}(),Y=function(){function t(){o(this,t),u(this,"segments",void 0),u(this,"leaves",void 0),this.segments=[],this.leaves=[]}return a(t,[{key:"addSegment",value:function(t,e){var n=this.segments[t];n||(n=[],this.segments[t]=n),n.push(e)}},{key:"addLeaf",value:function(t,e){var n=this.leaves[t];n||(n=[],this.leaves[t]=n),n.push(e)}},{key:"getArray",value:function(){for(var t=[],e=0;e<this.segments.length;e++)t=(t=t.concat(this.segments[e]||[])).concat(this.sortLeaves(this.leaves[e]));return t}},{key:"sortLeaves",value:function(t){return t?t.sort((function(t,e){if(e.bbox.containsPoint(t.base[0],t.base[1],!0))return-1;if(t.bbox.containsPoint(e.base[0],e.base[1],!0))return 1;var n=M.distance(t.base,[0,0]);return M.distance(e.base,[0,0])-n})):[]}}]),t}(),T=function(){function t(e){o(this,t),u(this,"genus",void 0),u(this,"bbox",void 0),u(this,"yFactor",void 0),u(this,"parts",void 0),u(this,"maxAge",void 0),this.genus=e,this.bbox=new R,this.maxAge=0,this.yFactor=1}return a(t,[{key:"getTree",value:function(){var t=this;return new j(this.genus.maxBranchNum,(function(e,n,r){return{width:t.genus.getNodeWidth(e,n,r),angle:n?t.genus.getSegmentAngle(e,n,r):0,length:e.isLast?n?n.attr.length:0:t.genus.getSegmentLength(e,n,r),totalLength:n?(e.isOffshoot?0:n.attr.length)+n.attr.totalLength:0}}),(function(e){return null===e?t.genus.getRoots():t.genus.getOffshoots(e)}))}},{key:"init",value:function(){var t=this;this.genus.reset();var e=this.getTree();e.grow(),this.bbox=new R({x0:-this.genus.width/2,x1:this.genus.width/2,y0:-this.genus.height,y1:0});var n=new Y,r=new Map,i=0;e.eachSegment((function(e,o){var s=function(e){if(!e.prev){var n=[e.attr.x||0,0];return t.bbox.addPoint(n[0],n[1]),n}if(e.pos.isOffshoot){var i=r.get(e.prev);if(i)return i;var o=[e.prev.attr.x||0,0];return r.set(e.prev,o),t.bbox.addPoint(o[0],o[1]),o}return r.get(e)}(e),a=t.genus.getSegmentStyle(e,o),u=new X(s,a,e,o);r.set(o,u.top),t.bbox.addBBox(u.bbox),n.addSegment(e.pos.branchNum,u),t.genus.getLeaves(e,o).map((function(r){var o=new W(u,r);t.bbox.addBBox(o.bbox),n.addLeaf(e.pos.branchNum,o),o.ageOffset+o.length>i&&(i=o.ageOffset+o.length)})),o.attr.totalLength>i&&(i=o.attr.totalLength)})),this.parts=n.getArray(),this.maxAge=i;var o=Math.max(Math.abs(this.bbox.x0),Math.abs(this.bbox.x1));this.bbox.x0=-o,this.bbox.x1=o,this.yFactor=this.bbox.height/-this.bbox.y0||1}},{key:"render",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;if(t*=this.maxAge,this.parts){var r,i=D(this.parts);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.getPoints(t);if(s){var a={},u={};e&&(a=o.style,u={},"number"==typeof a["stroke-width"]&&(u["stroke-width"]=H(a["stroke-width"])));var h=Object.assign({},a,u,{d:L.svg.compilePathDescription(s)});n.appendChild(L.svg.node("path",h))}}}catch(t){i.e(t)}finally{i.f()}}}},{key:"getSvg",value:function(t,e){void 0===this.parts&&this.init();var n=L.svg.root({class:"svg-plant-body",viewBox:this.bbox.withPrecision(1e4).viewBox,preserveAspectRatio:"xMidYMax meet"});return this.render(t,e,n),n}}]),t}(),q=function(){function t(e,n){o(this,t),u(this,"body",void 0),u(this,"cfg",void 0),u(this,"_svgElement",void 0),u(this,"_potSvgElement",void 0),u(this,"_bodySvgElement",void 0),u(this,"animation",void 0),this.cfg={color:!0,age:1,potSize:.3,potPathAttr:{fill:"#fc7",stroke:"#da5"}},"object"==i(n)&&(void 0!==n.color&&(this.color=n.color),void 0!==n.age&&(this.age=n.age),void 0!==n.potSize&&(this.potSize=n.potSize),void 0!==n.potPathAttr&&(this.potPathAttr=n.potPathAttr)),this.body=new T(e),this._svgElement=null,this._potSvgElement=null,this._bodySvgElement=null,this.animation=null}return a(t,[{key:"update",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(this._bodySvgElement=null),e&&(this._potSvgElement=null),this.updateSvgElement()}},{key:"updateSvgElement",value:function(){var t=this._svgElement;t&&(t.innerHTML=this.getSvgElement().innerHTML)}},{key:"getSvgElement",value:function(){var t=L.svg.root({class:"svg-plant",viewBox:"0 0 1 1",preserveAspectRatio:"xMidYMax meet"}),e=function(t,e,n,r,i){t.setAttribute("x",String(e)),t.setAttribute("y",String(n)),t.setAttribute("width",String(r)),t.setAttribute("height",String(i))},n=this.potSvgElement,r=this.bodySvgElement;if(this.cfg.potSize>=1&&null!==n)t.appendChild(n),e(n,0,0,1,1);else if(this.cfg.potSize<=0&&null!==r)t.appendChild(r),e(r,0,0,1,1);else if(n&&r){t.appendChild(n),e(n,0,1-this.cfg.potSize,1,this.cfg.potSize),t.appendChild(r);var i,o=this.cfg.color?0:.001,s=1-this.cfg.potSize;if(this.body.yFactor>1)if(1/s<this.body.bbox.width/-this.body.bbox.y0){var a=-this.body.bbox.y0/this.body.bbox.width;i=s+(a*this.body.yFactor-a)}else i=s*this.body.yFactor;else i=s;e(r,0,0,1,i+o)}return t}},{key:"getPotSvgElement",value:function(){return this.cfg.color?B(this.cfg.potPathAttr):B({})}},{key:"getBodySvgElement",value:function(){return this.body.getSvg(this.cfg.age,this.cfg.color)}},{key:"animate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;this.cancelAnimation(),this.animation={fromAge:t,toAge:e,ageSpan:e-t,currentAge:t,durationMs:n,nextAnimationFrame:void 0,paused:!0},this.resumeAnimation()}},{key:"pauseAnimation",value:function(){this.animation&&(void 0!==this.animation.nextAnimationFrame&&cancelAnimationFrame(this.animation.nextAnimationFrame),this.animation.paused=!0)}},{key:"cancelAnimation",value:function(){this.pauseAnimation(),this.animation=null}},{key:"resumeAnimation",value:function(){var t=this,e=this.animation;if(e&&e.paused){e.paused=!1,this.age=e.currentAge;var n;e.nextAnimationFrame=requestAnimationFrame((function r(i){if(n){var o=function(t){return t<0?0:t>1?1:.5*Math.sin((t-.5)*Math.PI)+.5}(Math.min(1,(i-n)/e.durationMs));o<1?(t.cfg.age=e.fromAge+o*e.ageSpan,e.currentAge=t.cfg.age,t._bodySvgElement=null,t.updateSvgElement(),e.nextAnimationFrame=requestAnimationFrame(r)):(t.age=e.toAge,t.animation=null)}else{var s=(e.currentAge-e.fromAge)/e.ageSpan;n=i-((a=s)<0?0:a>1?1:Math.asin(2*a-1)/Math.PI+.5)*e.durationMs,e.nextAnimationFrame=requestAnimationFrame(r)}var a}))}}},{key:"seed",get:function(){return this.body.genus.rngSeed}},{key:"color",get:function(){return this.cfg.color},set:function(t){(t=!!t)!=this.cfg.color&&(this.cfg.color=t,this.update())}},{key:"age",get:function(){return this.cfg.age},set:function(t){(t=Math.max(0,Math.min(t,1)))!=this.cfg.age&&(this.cfg.age=t,this.update(!0,!1))}},{key:"potSize",get:function(){return this.cfg.potSize},set:function(t){(t=Math.max(0,Math.min(t,1)))!=this.cfg.potSize&&(this.cfg.potSize=t,this.update(!1,!0))}},{key:"potPathAttr",get:function(){return this.cfg.potPathAttr},set:function(t){t!==this.cfg.potPathAttr&&(this.cfg.potPathAttr=t,this.update(!1,!0))}},{key:"svgElement",get:function(){return this._svgElement||(this._svgElement=this.getSvgElement()),this._svgElement}},{key:"potSvgElement",get:function(){return 0==this.cfg.potSize?null:(this._potSvgElement||(this._potSvgElement=this.getPotSvgElement()),this._potSvgElement)}},{key:"bodySvgElement",get:function(){return 1==this.cfg.potSize?null:(this._bodySvgElement||(this._bodySvgElement=this.getBodySvgElement()),this._bodySvgElement)}}]),t}(),I=function(){function t(e){o(this,t),u(this,"rng",void 0),u(this,"width",void 0),u(this,"height",void 0),u(this,"maxBranchNum",void 0),u(this,"segmentStyle",void 0),u(this,"leafStyle",void 0),u(this,"leafCurveHandles",void 0),this.rng=function(t){var e,n=void 0===t?(Math.random()+"").substring(2):String(t),r={get seed(){return n},reset:function(){e=A(n)},random:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e()*t},test:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=t>=1||!(t<=0)&&e()<t;return i?void 0===n||n:void 0!==r&&r},range:function(t,n){return t==n?t:t+e()*(n-t)},intRange:function(t,n){return t==n?t:t+Math.floor(e()*(n-t+1))},ranges:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)return 0;var i=1/e.length;e=v(e);var o,s=e.pop(),a=O(e);try{for(a.s();!(o=a.n()).done;){var u=o.value,h=u[2]||i;if(r.test(h))return r.range(u[0],u[1])}}catch(t){a.e(t)}finally{a.f()}return s?r.range(s[0],s[1]):0},shuffle:function(t){for(var n=t.length-1;n>0;n--){var r=Math.floor(e()*(n+1)),i=t[n];t[n]=t[r],t[r]=i}return t}};return r.reset(),r}(e),this.width=4,this.height=4,this.maxBranchNum=1,this.segmentStyle={fill:"#161",stroke:"#041","stroke-width":.0075},this.leafStyle={stroke:"#0d5",fill:"rgba(0,255,110,.9)","stroke-width":.02},this.leafCurveHandles={bottomAngle:60,bottomLength:.6,topAngle:179,topLength:.2}}return a(t,[{key:"reset",value:function(){this.rng.reset()}},{key:"getRoots",value:function(){return[{n:3,attr:{x:0,segmentAngle:0}}]}},{key:"getOffshoots",value:function(t){return t.pos.isLast||0==t.pos.num?[]:[{n:1,attr:{segmentAngle:t.attr.angle-60}},{n:1,attr:{segmentAngle:t.attr.angle+60}}]}},{key:"getNodeWidth",value:function(t,e,n){return.1}},{key:"getSegmentLength",value:function(t,e,n){return 1}},{key:"getSegmentAngle",value:function(t,e,n){return t.isOffshoot?e.attr.angle:void 0!==e.attr.segmentAngle?e.attr.segmentAngle:e.attr.angle}},{key:"getSegmentStyle",value:function(t,e){return this.segmentStyle}},{key:"getLeaves",value:function(t,e){return e.pos.isLast?[{angle:e.attr.angle,length:1,handles:this.leafCurveHandles,style:this.leafStyle,xOffset:0,yOffset:.95}]:[]}},{key:"genusName",get:function(){var t=this.constructor.name;return t.substring(0,t.length-5)}},{key:"rngSeed",get:function(){return this.rng.seed}}],[{key:"genusName",get:function(){var t=this.name;return t.substring(0,t.length-5)}}]),t}(),G=r((function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,r)}t.exports=e}));var U=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)};var Z=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};var $=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?Z(t):e},V=r((function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e}));function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=V(t);if(e){var i=V(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $(this,n)}}var K=function(t){U(n,t);var e=J(n);function n(t){var r;return o(this,n),(r=e.call(this,t)).width=6.1,r.height=6.6,r.maxBranchNum=3,r.segmentStyle={fill:"#400",stroke:"#931","stroke-width":.0075},r.leafStyle={stroke:"#0d5",fill:"rgba(0,255,110,.9)","stroke-width":.02},r.leafCurveHandles={bottomAngle:60,bottomLength:.6,topAngle:179,topLength:.2},r}return a(n,[{key:"getRoots",value:function(){return[{n:this.rng.intRange(4,6),attr:N.rootPosAngle(this.rng,.5,6)}]}},{key:"getOffshoots",value:function(t){var e=this;if(t.pos.isLast||0==t.pos.num)return[];var n=.5*(.5+.5*t.pos.numFactor)*(.5+.5*t.pos.branchFactor),r=[],i=function(){return 4-t.pos.branchNum-e.rng.test(.6,1,0)};return this.rng.test(n)&&r.push({n:i(),attr:{segmentAngle:t.attr.angle+this.rng.range(25,60)}}),this.rng.test(n)&&r.push({n:i(),attr:{segmentAngle:t.attr.angle+this.rng.range(-60,-25)}}),r}},{key:"getNodeWidth",value:function(t,e,n){return t.isOffshoot&&e?e.attr.width:.1*(.1+.9*t.branchFactor)}},{key:"getSegmentLength",value:function(t,e,n){if(!e)return 1;if(!t.isOffshoot&&t.branchNum>0)return.75*e.attr.length;if(!t.isOffshoot)return e.attr.length;var r=.2+.8*(e.branchRoot.prev?e.branchRoot.prev.pos.numFactor:1);return e.attr.length*r}},{key:"getSegmentAngle",value:function(t,e,n){return t.branchNum>0?N.nextAngle(this.rng,t,e,16,!0):N.nextAngle(this.rng,t,e,8,!0)}},{key:"getSegmentStyle",value:function(t,e){return this.segmentStyle}},{key:"getLeaves",value:function(t,e){var n=this;if(0==e.pos.branchNum&&e.pos.num<2)return[];var r=[],i=function(t){r.push({angle:e.attr.angle+(t?t*n.rng.range(20,40):n.rng.range(-10,10)),length:n.rng.range(.5,.75),handles:n.leafCurveHandles,style:n.leafStyle,xOffset:t?-t*n.rng.range(0,.5):0,yOffset:t?n.rng.range(.3,.7):.95})};return e.pos.isLast&&this.rng.test(.5)&&i(0),this.rng.test(.5)&&i(1),this.rng.test(.5)&&i(-1),r}}]),n}(I);function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=V(t);if(e){var i=V(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $(this,n)}}var tt=function(t){U(n,t);var e=Q(n);function n(t){var r;return o(this,n),(r=e.call(this,t)).width=10.3,r.height=8.6,r.maxBranchNum=1,r.segmentStyle={fill:"#400",stroke:"#931","stroke-width":.0075},r.leafStyle={stroke:"#0d5",fill:"rgba(0,255,110,.9)","stroke-width":.02},r.leafCurveHandles={bottomAngle:30,bottomLength:.2,topAngle:179,topLength:.2},r}return a(n,[{key:"getRoots",value:function(){return[{n:this.rng.intRange(2,4),attr:N.rootPosAngle(this.rng,.5,6)}]}},{key:"getOffshoots",value:function(t){var e=this;if(!t.pos.isLast)return[];var n=N.repeat({rng:this.rng,steps:{from:-60,to:60,step:30},p:.75,cb:function(n){return{n:2,attr:{segmentAngle:t.attr.angle+n+e.rng.range(-10,10)}}}});return n.length||n.push({n:2,attr:{segmentAngle:this.rng.range(-60,60)}}),n}},{key:"getNodeWidth",value:function(t,e,n){return t.isOffshoot&&e?e.attr.width:1==t.branchNum?this.rng.range(.2,.3):this.rng.range(.4,.6)}},{key:"getSegmentLength",value:function(t,e,n){return 1==t.branchNum?this.rng.range(.2,.8):this.rng.range(.5,1.5)}},{key:"getSegmentAngle",value:function(t,e,n){return N.nextAngle(this.rng,t,e,8,!0)}},{key:"getSegmentStyle",value:function(t,e){return this.segmentStyle}},{key:"getLeaves",value:function(t,e){var n=this;if(!e.pos.isLast||1!=e.pos.branchNum)return[];return N.repeat({rng:this.rng,steps:{from:-75,to:75,step:10},p:.5,cb:function(t){var r=n.rng.range(-5,5),i=n.rng.range(-.7,.7);return{angle:e.attr.angle+t+r,length:3.5+i,handles:n.leafCurveHandles,style:n.leafStyle,xOffset:n.rng.range(-.2,.2),yOffset:n.rng.range(.8,.95)}}})}}]),n}(I);function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=V(t);if(e){var i=V(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $(this,n)}}var it=function(t){U(n,t);var e=rt(n);function n(t){var r;return o(this,n),(r=e.call(this,t)).width=3.6,r.height=3.5,r.maxBranchNum=0,r.segmentStyle={stroke:"#041",fill:"#161","stroke-width":.0075},r.leafStyle={stroke:"#0d5",fill:"rgba(0,255,110,.9)","stroke-width":.01},r.leafCurveHandles={bottomAngle:24,bottomLength:.6,topAngle:179,topLength:.2},r}return a(n,[{key:"getRoots",value:function(){var t=this;return N.repeat({rng:this.rng,n:[1,3],cb:function(){return{n:t.rng.intRange(5,7),attr:nt(nt({},N.rootPosAngle(t.rng,.25,15)),{},{branchArchAngle:t.rng.ranges([-30,-5],[5,30])})}}})}},{key:"getOffshoots",value:function(t){return[]}},{key:"getNodeWidth",value:function(t,e,n){return e?.8*e.attr.width:.1}},{key:"getSegmentLength",value:function(t,e,n){return e?e.attr.length*this.rng.range(.6,.9):this.rng.range(.4,1)}},{key:"getSegmentAngle",value:function(t,e,n){return N.archingBranchAngle(this.rng,t,e,5,.6)}},{key:"getSegmentStyle",value:function(){return this.segmentStyle}},{key:"getLeaves",value:function(t,e){var n=this,r=1.2*e.treeRoot.attr.length*(.5+.5*Math.sin(Math.PI*e.pos.numFactor)),i=e.pos.isLast?[-70,-30,30,70]:[-70,70];return N.repeat({rng:this.rng,values:i,p:.89,cb:function(t){var i=n.rng.range(-6,6),o=n.rng.range(-.1,.1),s=Math.abs(t)<70?.9:1;return{angle:e.attr.angle+t+i,length:r*s+o,handles:n.leafCurveHandles,style:n.leafStyle,xOffset:0,yOffset:1}}})}}]),n}(I);function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=V(t);if(e){var i=V(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $(this,n)}}var st=function(t){U(n,t);var e=ot(n);function n(t){var r;return o(this,n),r=e.call(this,t),u(Z(r),"offshootSegmentStyle",void 0),u(Z(r),"branchSegmentStyle",void 0),r.width=4.6,r.height=4.1,r.maxBranchNum=1,r.segmentStyle={stroke:"#931",fill:"#400","stroke-width":.0075},r.offshootSegmentStyle={stroke:"#931",fill:"#400","stroke-width":.0075},r.branchSegmentStyle={stroke:"#041",fill:"#161","stroke-width":.0075},r.leafStyle={stroke:"#0d5",fill:"rgba(0,255,110,.9)","stroke-width":.02},r.leafCurveHandles={bottomAngle:80,bottomLength:1,topAngle:100,topLength:.2},r}return a(n,[{key:"getRoots",value:function(){return[{n:this.rng.intRange(0,3),attr:N.rootPosAngle(this.rng,.25,8)}]}},{key:"getOffshoots",value:function(t){var e=this;return t.pos.isLast?N.repeat({rng:this.rng,n:[1,12],cb:function(){return{n:e.rng.intRange(3,6),attr:{segmentAngle:t.attr.angle+e.rng.range(-40,40),branchArchAngle:e.rng.ranges([-40,-5],[5,40])}}}}):t.pos.num?N.repeat({rng:this.rng,n:[0,4],cb:function(){return{n:e.rng.intRange(2,3),attr:{segmentAngle:t.attr.angle+e.rng.ranges([-80,-40],[40,80]),branchArchAngle:e.rng.ranges([-40,-5],[5,40])}}}}):[]}},{key:"getNodeWidth",value:function(t,e,n){return 0==t.branchNum?this.rng.range(.1,.3):t.isOffshoot&&null!==e?e.attr.width:this.rng.range(.05,.1)}},{key:"getSegmentLength",value:function(t,e,n){return e?0==t.branchNum?.9*e.attr.length:t.isOffshoot?this.rng.range(.1,.2):1==t.num?e.branchRoot.pos.isLast?this.rng.range(.6,1.2):this.rng.range(.3,.6):.75*e.attr.length:this.rng.range(.6,1.2)}},{key:"getSegmentAngle",value:function(t,e,n){return 0==t.branchNum?this.rng.range(-8,8):N.archingBranchAngle(this.rng,t,e,5,.1)}},{key:"getSegmentStyle",value:function(t,e){return 0==t.pos.branchNum?this.segmentStyle:t.pos.isOffshoot?this.offshootSegmentStyle:this.branchSegmentStyle}},{key:"getLeaves",value:function(t,e){if(!e.pos.isLast||1!=e.pos.branchNum)return[];var n=(e.treeRoot.attr.length||1)*this.rng.range(.4,1.5);return[{angle:N.segmentAngle(t)+this.rng.range(-8,8),length:n,handles:this.leafCurveHandles,style:this.leafStyle,xOffset:0,yOffset:.96}]}}]),n}(I),at=Object.freeze({__proto__:null,testPlantBodySize:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=[],r=[],i=0;i<e;i++){var o=new q(new t).body;o.genus.width=0,o.genus.height=0,o.init(),n.push(o.bbox.width),r.push(o.bbox.height)}return n.sort((function(t,e){return t-e})),r.sort((function(t,e){return t-e})),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=Math.max(0,Math.min(e-1,Math.round(t/100*(e-1))));return{width:n[i],height:r[i]}}},findSeed:function(t,e){for(var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,i=!1,o=0,s=Date.now(),a=setTimeout((function(){i=!0}),r);;){var u=new q(new t).body;if(u.genus.width=0,u.genus.height=0,u.init(),o++,e(u)){clearTimeout(a),n=u.genus.rngSeed,console.log("Seed found!",n);break}if(i){console.log("No seed was found");break}}var h=((Date.now()-s)/1e3).toFixed(2);return console.log("findSeed finished after "+h+" seconds and "+o+" tries."),n},testPerformance:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,n=Date.now(),r=0;;){var i=new q(new t).body;if(i.genus.width=0,i.genus.height=0,i.init(),r++,Date.now()-n>e)break}var o=Date.now()-n,s=o/1e3;console.group(t.name+" Performance Test"),console.log("created "+r+" plants in "+s.toFixed(2)+" seconds"),console.log((r/s).toFixed(2)+" plants/sec"),console.log((o/r).toFixed(2)+" ms/plant"),console.groupEnd()}}),ut={BushyPlant:K,DragonTree:tt,Zamia:it,Pilea:st};t.BaseGenus=I,t.BushyPlantGenus=K,t.DevTools=at,t.DragonTreeGenus=tt,t.Genera=ut,t.PileaGenus=st,t.SvgPlant=q,t.ZamiaGenus=it,t.plantHelper=N,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=svg-plant.min.umd.js.map
